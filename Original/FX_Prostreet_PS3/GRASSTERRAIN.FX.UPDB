<?xml version="1.0" encoding="utf-8"?>
<shader-pdb pdbHint="4e4a0010-28546480-07604f6d" version="6132">
 <files>
  <file id="0" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\grassterrain.fx" time="01c7f8c7-b0f16f49">///////////////////////////////////////////////////////////////////////////////
#define ENABLE_FOG
#include "grassterrain.h"
///////////////////////////////////////////////////////////////////////////////


PS_INPUT vertex_shader(const VS_INPUT IN)
{
	return GrassterrainVertexShader(IN);
}

float4 pixel_shader(const PS_INPUT IN) : COLOR
{
	return GrassterrainPixelShader(IN);
}


PS_INPUT_LOWLOD vertex_shader_low(const VS_INPUT_LOWLOD IN)
{
	return GrassterrainVertexShaderLowLOD(IN);
}

float4 pixel_shader_low(const PS_INPUT_LOWLOD IN) : COLOR
{
	return GrassterrainPixelShaderLowLOD(IN);
}

technique grassterrain 
{
    pass p0
    {
        VertexShader = compile vs_3_0 vertex_shader();
        PixelShader  = compile ps_3_0 pixel_shader();
    }
}

technique lowlod 
{
    pass p0
    {
        VertexShader = compile vs_3_0 vertex_shader_low();
        PixelShader  = compile ps_3_0 pixel_shader_low();
    }
}

#include "ZPrePass_fx.h"
#include "shadowmap_fx.h"

</file>
  <file id="1" path="D:\eax-build1-s09-xenon\Oban\Speed\Indep\Src\Render\Shaders\grassterrain.h" time="01c7f8bf-7e3da62e">
/********************************************************************

	created:	2007/06/28
	filename: 	Z:\Oban\Indep\Src\Render\Shaders\grassterrain.h
	file path:	Z:\Oban\Indep\Src\Render\Shaders
	file base:	grassterrain
	file ext:	h
	author:		kcloud
	
	purpose:	Cross platform implementation of the grassterrain shader

*********************************************************************/
//
// Grass Terrain Effect
//

#ifndef	GRASSTERRAIN_H
#define GRASSTERRAIN_H

#include "global.h"
#include "shadowenum.h"

/*** Cross platform declarations *********************************************************************************/

shared	float4x4 cmWorldView			: REG_cmWorldView;	//WORLDVIEW
shared	float4x4 cmWorldMat				: REG_cmWorldMat;
shared	float4x4 cmWorldMatTranspose	: REG_cmWorldMatTranspose;

shared	float4	cvLocalLightVec			: REG_cvLocalLightVec;	//LOCALLIGHTDIRVECTOR;
shared	float3	cvLocalEyePos			: REG_cvLocalEyePos;	//LOCALEYEPOS;

shared	float	cfMipMapBias			: REG_cfMipMapBias;		//MIPMAPBIAS;
/*
shared	float4	cvDiffuseMin			: REG_cvDiffuseMin;		// Texture Offsets (1);
shared	float4	cvSpecularMin			: REG_cvSpecularMin;	// Texture Offsets (2);

shared	float4	cvPowers				: REG_cvPowers;			// xyzw  = Not Used, Incidence power, Not Used, Not Used
shared	float4	cvFlakes				: REG_cvFlakes;			// xy    = Normal Noise scale, Incidence scale
shared	float4	cvVinylScales			: REG_cvVinylScales;	// xyz   = Normal Noise (1,2,3) UV scale
*/
/*** Cross platform includes *****************************************************************************************/
#ifdef ENABLE_FOG
#include "fog.h"
#endif
#include "lightscattering.h"
#include "lighting_models.h"
#include "pcavertexcolours.h"
#include "shadowmap_fx_def.h"

/*** Defines *****************************************************************************************/

#define TransitionOnePower 7
#define TransitionNormalPower 14
#define NOISEMIPMAPBIAS -2

//  Dry Grass
#define	OFFSET_U1 0.2					// DiffuseMinR
#define	OFFSET_V1 0.5					// DiffuseMinG
#define	OFFSET_U2 0.5					// SpecularMinR
#define	OFFSET_V2 0.7					// SpecularMinG
#define TEXNOISEINTENSITY 1.5			// 
#define TEXNOISECONTRAST 0.32			// 

#define NORMALNOISEINTENSITY 2.0			// DiffuseFlakes

#define LOWNOISESPACE 0.00150			// DiffuseVinylScale
#define	MEDNOISESPACE 0.0200			// SpecularVinylScale
#define	HIGHNOISESPACE 0.050			// EnvmapVinylScale

#define	LOWNORMALNOISEPOWER 3		
#define	MEDNORMALNOISEPOWER 7			// should probably use numbers on the order of 5 or above
#define	HIGHNORMALNOISEPOWER 10		

#define INCIDENCEPOWER 30				// Specular Power
#define INCIDENCESCALE 0.5				// SpecuSpecularFlakeslarVinylScale
#define INCIDENCECONTRAST 1.05			// 
#define TOPCOLOR float4(0.56, 0.52, 0.41,1)
#define BOTTOMCOLOR float4(0.60, 0.56, 0.51,1)

#define MAXDIST 200
//
//#define DEBUG 
//#define ORIGINAL
//#define DEBUGNORMAL
//#define NOTEXBIAS  // use this for performance improvement at the cost of texture

/*** Samplers *****************************************************************************************/
DECLARE_TEXTURE(TERRAINONE_TEXTURE)				// needed for the PC
sampler TERRAINONE_SAMPLER = sampler_state
{
	ASSIGN_TEXTURE(TERRAINONE_TEXTURE)			   // needed for the PC
	AddressU = WRAP;
	AddressV = WRAP;
	DECLARE_MIPFILTER(LINEAR)
	DECLARE_MAGFILTER(LINEAR)
	DECLARE_MINFILTER(LINEAR)
	

};

DECLARE_TEXTURE(TERRAINTWO_TEXTURE)				// needed for the PC
sampler TERRAINTWO_SAMPLER = sampler_state
{
	ASSIGN_TEXTURE(TERRAINTWO_TEXTURE)			   // needed for the PC
	AddressU = WRAP;
	AddressV = WRAP;
	DECLARE_MIPFILTER(LINEAR)
	DECLARE_MAGFILTER(LINEAR)
	DECLARE_MINFILTER(LINEAR)
	

};

DECLARE_TEXTURE(NORMALMAP_TEXTURE)			// needed for the PC
sampler NORMALMAP_SAMPLER = sampler_state
{
	ASSIGN_TEXTURE(NORMALMAP_TEXTURE)			   // needed for the PC
	AddressU = WRAP;
	AddressV = WRAP;
	DECLARE_MIPFILTER(LINEAR)
	DECLARE_MAGFILTER(LINEAR)
	DECLARE_MINFILTER(LINEAR)
	

};

DECLARE_TEXTURE(NORMALMAP2_TEXTURE)			// needed for the PC
sampler NORMALMAP2_SAMPLER = sampler_state
{
	ASSIGN_TEXTURE(NORMALMAP2_TEXTURE)			   // needed for the PC
	AddressU = WRAP;
	AddressV = WRAP;
	DECLARE_MIPFILTER(LINEAR)
	DECLARE_MAGFILTER(LINEAR)
	DECLARE_MINFILTER(LINEAR)
	

};
 
DECLARE_TEXTURE(MISCMAP1_TEXTURE)				// needed for the PC
sampler MISCMAP1_SAMPLER = sampler_state
{
	ASSIGN_TEXTURE(MISCMAP1_TEXTURE)			   // needed for the PC
    AddressU  = WRAP;        
    AddressV  = WRAP;
	DECLARE_MIPFILTER(LINEAR)
	DECLARE_MAGFILTER(LINEAR)
	DECLARE_MINFILTER(LINEAR)
	

};

#define DIFFUSE_SAMPLER TERRAINONE_SAMPLER

/*** Structures **************************************************************************************/

struct VS_INPUT
{
	float4 position		: POSITION;
	float4 color		: COLOR;
	float4 normal		: NORMAL;
	float4 tex			: TEXCOORD0;
	float4 tex1			: TEXCOORD1;
	float4 tex2			: TEXCOORD2;
	float4 component0	: TEXCOORD3;
	float4 tangent		: TANGENT;
};

struct PS_INPUT
{
	float4 position			: POSITION;
	float4 tex01			: TEXCOORD0;	// xy = tex0, zw = tex1
	float4 tex23_noiseUV	: TEXCOORD1;	// xy = tex2, zw = noise uv
	float4 normal			: TEXCOORD2;
	float4 tangent			: TEXCOORD3;
	float4 shadow_tex		: TEXCOORD4;
	float4 ambocc_rim_fog_shadowfade : TEXCOORD5;
};

struct PS_OUTPUT
{
	float4 color : COLOR0;
};

struct PS_INPUT_DEPTH
{
	float4 position		: POSITION;
	float  dist			: COLOR0;
};

struct VS_INPUT_LOWLOD
{
	float4 position		: POSITION;
	float4 normal		: NORMAL;
	float4 color		: COLOR;
	float2 tex			: TEXCOORD0;
	float4 component0	: TEXCOORD1;
	float4 component1	: TEXCOORD2;	
};

struct PS_INPUT_LOWLOD
{
	float4 position		: POSITION;
	float2 vertex_data	: COLOR0;	
	float2 t0			: TEXCOORD0;

};

/*** Functions ***************************************************************************************/

float bias(float b, float x)
{
	return pow(x, log(b)/log(0.5));
}

/*** Shaders *****************************************************************************************/

PS_INPUT GrassterrainVertexShader(const VS_INPUT IN)
{
	PS_INPUT OUT;

	float	rimScale		= INCIDENCESCALE;
	float	rimContrast		= INCIDENCECONTRAST;
	float	rimPower		= INCIDENCEPOWER;  // currently 30
	
	OUT.position			= world_position(IN.position);

	OUT.tex01.xy			= IN.tex.xy;
	OUT.tex01.zw			= IN.tex1.xy;
	OUT.tex23_noiseUV.xy	= IN.tex2.xy;
	

	//OUT.vertex_colour.xyz	= IN.color.xyz;
	
	OUT.tangent				= IN.tangent;
	OUT.normal				= IN.normal;

	OUT.shadow_tex			= VertexShadowTexOptimized( IN.position, dot(IN.normal.xyz, cvLocalLightVec.xyz), OUT.ambocc_rim_fog_shadowfade.w );
	
	// keep view at constant distance
	float3 view				= cvLocalEyePos - IN.position.xyz ;
	float3 lockview			= view/length(view);
	lockview				*= 100;

	// Rim calcs
	float3 incidence_world	= normalize(mul(lockview, (float3x3)cmWorldMat));	
	float idotn				= 1 - abs(dot(incidence_world, IN.normal.xyz))/2;

	OUT.ambocc_rim_fog_shadowfade.x	= PcaDecompressAmbientOcclusion(IN.component0);
	OUT.ambocc_rim_fog_shadowfade.y	= pow(idotn, rimPower) * rimContrast * rimScale;
	OUT.ambocc_rim_fog_shadowfade.z	= CalcVertexFog(OUT.position);

	// noise support
	float4 worldPos			= mul(IN.position, cmWorldMat);	
	float2 noiseUV			= worldPos.xy * MEDNOISESPACE;

	OUT.tex23_noiseUV.zw	= noiseUV;
	
	return OUT;
}


float4 GrassterrainPixelShader(const PS_INPUT IN, int shadowDetail = ShadowShaderDetail_HIGH) 
{
	float4 OUT	= 1;
	
	float	offset_u2		= OFFSET_U2;
	float	offset_v2		= OFFSET_V2;
	float	texNoiseIntensity	= TEXNOISEINTENSITY;
	
	
	float3 geo_normal		= IN.normal.xyz;

	// Need This To Use Normal For Local Lighting\Reflection\Etc...
	float3x3 norm_obj_to_tangent_trans;
	norm_obj_to_tangent_trans[0]	= normalize(IN.tangent).xyz;
	norm_obj_to_tangent_trans[2]	= normalize(geo_normal);
	norm_obj_to_tangent_trans[1]	= cross( norm_obj_to_tangent_trans[2], norm_obj_to_tangent_trans[0] ) * IN.tangent.w;	
	
	// Sun Direction In World Space
	float3 sun_dir_world	= mul( float4(cvLocalLightVec.xyz,0.0), cmWorldMat).xyz;

	//
	// Base Textures

	// USE NOISE
#ifdef NOTEXBIAS
	float4 top_texture		= tex2D(TERRAINONE_SAMPLER  , float2(IN.tex01.xy));
	float4 top_texture_rot		= (1-TEXNOISECONTRAST)* tex2D(TERRAINONE_SAMPLER  , float2(IN.tex01.y + offset_v2, IN.tex01.x + offset_u2));
#else
	float4 top_texture		= tex2Dbias(TERRAINONE_SAMPLER  , float4(IN.tex01.xy, 0, cfMipMapBias));
	float4 top_texture_rot		= (1-TEXNOISECONTRAST)* tex2Dbias(TERRAINONE_SAMPLER  , float4(IN.tex01.y + offset_v2, IN.tex01.x + offset_u2, 0, cfMipMapBias));
#endif

#ifdef DEBUG	
	// TEST
	top_texture				= float4(1, 0, 0, 1);
	top_texture_rot			= float4(0, 0, 1, 1);
#endif

#ifdef NOTEXBIAS
	float4 bottom_texture 	= tex2D(TERRAINTWO_SAMPLER  , float2(IN.tex01.zw));
#else
	float4 bottom_texture 	= tex2Dbias(TERRAINTWO_SAMPLER  , float4(IN.tex01.zw, 0, cfMipMapBias));
#endif

	// NORMAL MAPS
#ifdef NOTEXBIAS
	float4 normal_map_slope	= tex2D(NORMALMAP_SAMPLER   , IN.tex23_noiseUV.xy);
	float4 normal_map_flat 	= tex2D(NORMALMAP2_SAMPLER  , IN.tex23_noiseUV.xy);
#else
	float4 normal_map_slope	= tex2Dbias(NORMALMAP_SAMPLER   , float4(IN.tex23_noiseUV.xy, 0, cfMipMapBias));
	float4 normal_map_flat 	= tex2Dbias(NORMALMAP2_SAMPLER  , float4(IN.tex23_noiseUV.xy, 0, cfMipMapBias));
#endif

	// ORIGINAL TERRAIN NORMAL COMPUTATIONS
	float3 normal			= IN.normal.rgb;
	float blendN			= 1-pow( abs(normal.z), TransitionNormalPower);

	// Blend between flat and sloped normal maps...
	float3 normal_orig		= lerp( normalize(normal_map_flat.xyz) , normal_map_slope.xyz, blendN); 

	//convert between unsigned and signed normal map data
	// the 0.75 factor will be solved by artists dampening the normal maps
	normal_orig.xyz			= (normal_orig.xyz - 0.5)*2;
	normal_orig.z			= sqrt(1 - dot(normal_orig.xy, normal_orig.xy));

	normal.xyz				= normal_orig.xyz;
	normal.xy				*= bias(0.6,cvLocalLightVec.z);
	normal					= normalize(normal);
	//normal.xyz			= IN.normal.rgb;  // debug
	
	// Place normal in world space
	normal.xyz				= mul( normal.xyz, norm_obj_to_tangent_trans );	
	normal.xyz				= mul( float4(normal.xyz,0.0), cmWorldMat).xyz;	
	normal.xyz				= normalize(normal.xyz);

	// Blend between top and bottom texture based on slope...of original normals
	float blend1			= pow( abs(normal.z), TransitionOnePower );

	// NOISE FOR NORMALS
	// Vary the noise frequency in  the y channel of noise2d texture
	// by sampling at different resolutions 
	float medNoiseValue		= tex2D( MISCMAP1_SAMPLER, IN.tex23_noiseUV.zw).y; 
	medNoiseValue			*= texNoiseIntensity ;

	// do the texture blends 
	float4 new_top			= lerp(top_texture, top_texture_rot, medNoiseValue );

	// now do the final texture blending
	float4 layer_final		= lerp( bottom_texture, new_top, blend1 );

	// Add in vertex colour modifications to base texture color...
	//layer_final.rgb = layer_final.rgb + (IN.vertex_colour.rgb - float3(0.5, 0.5, 0.5));//putting the subtract in vs adds 1 inst to ps???
	
	// Do lighting....
	float diffuse	= dot(normal.xyz, sun_dir_world );	
	float shadow	= DoShadowOptimized( IN.shadow_tex, diffuse, IN.ambocc_rim_fog_shadowfade.w, shadowDetail);

	OUT.xyz			= GranitoLightingModel( diffuse, shadow, layer_final.rgb, 1, IN.ambocc_rim_fog_shadowfade.x );

#ifndef ORIGINAL
	// Rim
	OUT.xyz			+= IN.ambocc_rim_fog_shadowfade.y * layer_final.rgb;
#endif

	OUT.xyz			= saturate(OUT.xyz);

	// Fog
#ifdef ENABLE_FOG	
	OUT.xyz		= CalcFogColour(OUT.xyz, IN.ambocc_rim_fog_shadowfade.z);
#endif

	// Debug
	//OUT.xyz		= float3(1,1,0);

	OUT.xyz = CompressColourSpace(OUT.xyz);

	return OUT;
}


///////////////////////////////////////////////////////////////////////////////
//
// LOW LOD SHADER
//
//


PS_INPUT_LOWLOD GrassterrainVertexShaderLowLOD(const VS_INPUT_LOWLOD IN)
{
	PS_INPUT_LOWLOD OUT;
	OUT.position		= world_position(IN.position);
	OUT.t0.xy		= IN.tex.xy ;
	
	OUT.vertex_data.x	= PcaDecompressAmbientOcclusion(IN.component0, IN.component1);
	OUT.vertex_data.y	= IN.color.w;

	return OUT;
}

float4 GrassterrainPixelShaderLowLOD(const PS_INPUT_LOWLOD IN)
{
	float4 OUT;
	float4 base		= tex2D(TERRAINONE_SAMPLER , IN.t0.xy) ;
	OUT				= base * IN.vertex_data.x * cvVertexPowerBrightness.y;
	
	OUT.xyz			= CompressColourSpace(OUT.xyz);

	return OUT;
}


#endif
</file>
  <file id="2" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\global.h" time="01c7f8c7-b0ef0cee">#ifndef GLOBAL_H
#define GLOBAL_H

#include "registermap.h"   

// Defined out for the Xbox360 - only needed on the PC
#define DECLARE_TEXTURE(texture)	
#define ASSIGN_TEXTURE(texture)	
#define DECLARE_MINFILTER(default_filter)			 MINFILTER = default_filter;
#define DECLARE_MAGFILTER(default_filter)			 MAGFILTER = default_filter;
#define DECLARE_MIPFILTER(default_filter)			 MIPFILTER = default_filter;

/////////////////////////////////////////////////////////////////////////////////////////
float4x4	cmWorldViewProj			: REG_cmWorldViewProj; //WORLDVIEWPROJECTION ;
float4		cvScreenOffset			: REG_cvScreenOffset; //SCREENOFFSET;
float4		cvVertexPowerBrightness : REG_cvVertexPowerBrightness;

float4 world_position( float4 screen_pos )
{
 	float4 p = mul(screen_pos, cmWorldViewProj);  
	p.xy += cvScreenOffset.xy * p.w;
    return p;
}

float4 screen_position( float4 screen_pos )
{
	screen_pos.xy += cvScreenOffset.xy;
    return screen_pos;
}

float4 CalcVertexColour(float4 colour)
{
	float4 result = pow(colour, cvVertexPowerBrightness.x) * cvVertexPowerBrightness.y;
	result.w = colour.w;
	return result;
}

float3 ScaleHeadLightIntensity(float3 colour) 
{
	float3 result = colour * cvVertexPowerBrightness.z;
	return result;
}



/////////////////////////////////////////////////////////////////////////////////////////
// HDR Colour Space compression
//
// Convert to a log or psudeo-log colour space to save high dynamic range data
/////////////////////////////////////////////////////////////////////////////////////////
#define kCompressCoeff ( 1.0f )
float3 CompressColourSpace(float3 colour)
{
	return colour / (kCompressCoeff+colour);
}

float3 DeCompressColourSpace(float3 colour)
{
	return colour / (kCompressCoeff-colour);
}


/////////////////////////////////////////////////////////////////////////////////////////
// RGBE8 Encoding/Decoding
// The RGBE8 format stores a mantissa per color channel and a shared exponent 
// stored in alpha. Since the exponent is shared, it's computed based on the
// highest intensity color component. The resulting color is RGB * 2^Alpha,
// which scales the data across a logarithmic scale.
/////////////////////////////////////////////////////////////////////////////////////////

float4 EncodeRGBE8( in float3 rgb )	  
{
	float4 vEncoded;

    // Determine the largest color component
	float maxComponent = max( max(rgb.r, rgb.g), rgb.b );
	
	// Round to the nearest integer exponent
	float fExp = ceil( log2(maxComponent) );

    // Divide the components by the shared exponent
	vEncoded.rgb = rgb / exp2(fExp);
	
	// Store the shared exponent in the alpha channel
	vEncoded.a = (fExp + 128) / 255;

	return vEncoded;
}

/////////////////////////////////////////////////////////////////////////////////////////

float3 DecodeRGBE8( in float4 rgbe )
{
	float3 vDecoded;

    // Retrieve the shared exponent
	float fExp = rgbe.a * 255 - 128;
	
	// Multiply through the color components
	vDecoded = rgbe.rgb * exp2(fExp);
	
	return vDecoded;
}

/////////////////////////////////////////////////////////////////////////////////////////
#endif</file>
  <file id="3" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\registermap.h" time="01c7f8c7-b0d997bb">
// ------------------------------------------------------------------------------------------------------------------------------------------

#define CONSTANT_RESERVED_DO_NOT_USE			(0)		/* 4 vectors [c0,c3] */

// ------------------------------------------------------------------------------------------------------------------------------------------

#define REG_RESERVED_DO_NOT_USE			register(c0)	/* 4 vectors [c0,c3] */

#define REG_cmWorldMat					register(c4)	/* 4 vectors [c0,c3] */
#define REG_cmWorldMatTranspose			register(c8)	/* 4 vectors [c4,c7] */
#define REG_cmWorldView					register(c12)	/* 4 vectors [c8,c11] */
#define REG_cmShadowMapWVP				register(c16)	/* 4 vectors [c12,c15] */
#define REG_cmLightWVP					register(c20)	/* 4 vectors [c16,c19] */
#define REG_cmWorldViewProj				register(c24)	/* 4 vectors [c20,c23] */
#define REG_cmPrevWorldViewProj			register(c28)	/* 4 vectors [c24,c27] */
#define REG_cvLocalEyePos				register(c32)	/* 1 vecotr	 [c32] */
#define REG_cvLocalLightVec				register(c33)	/* 1 vecotr	 [c33] */
#define REG_cfSkyDomeRotation			register(c34)	/* 1 vecotr	 [c34] */

#define REG_cmLocalColourMatrix			register(c36)	/* 4 vectors [c36,c39] */
#define REG_cmLocalDirectionMatrix		register(c40)	/* 4 vectors [c40,c43] */
#define REG_cmLocalPositionMatrix		register(c44)	/* 4 vectors [c44,c47] */
#define REG_cavHarmonicCoeff			register(c48)	/* 10 floats, 3 vectors, 1 pad vector [48,51] */

#define REG_camBlendMatrices			register(c52)	/* 16 vectors [c52,c67] */
#define REG_cavWorldHeadlightDirection	register(c68)	/* 2 vectors [c68,c69] */
#define REG_cavWorldHeadlightPosition	register(c70)	/* 2 vectors [c70,c71] */
#define REG_cavWorldHeadlightUpDirection register(c72)	/* 2 vectors [c72,c73] */

#define REG_cmShadowMapVP				register(c68) // note clash with head light
#define REG_cmShadowMapBiasMatrix		register(c72)	/* 4 vectors [c72, c75] */



#define REG_cvWorldSunColour			register(c79)
#define REG_cvWorldAmbientColour		register(c80)

// available: [c82,c115] (but would alias cavPcaWeightsR and cavPcaWeightsG)
// PCA/UCap parameters (ucap.fx, water.fx)
#define REG_cafPcaMean					register(c81)	/* 1 vector */
#define REG_cavPcaWeightsR				register(c82)	/* 22 vectors [c82,c103] */
#define REG_cavPcaWeightsG				register(c104)	/* 22 vectors [c104,c125] */
#define REG_cavPcaWeightsB				register(c126)	/* 22 vectors [c126,c147] */
#define REG_cavPcaWeightsX				register(c148)	/* 8 vectors [c148,c155] */
#define REG_cavPcaWeightsY				register(c156)	/* 8 vectors [c156,c163] */
#define REG_cavPcaWeightsZ				register(c164)	/* 8 vectors [c164,c171] */
#define REG_cavPcaWeightsNX				register(c172)	/* 8 vectors [c172,c179] */
#define REG_cavPcaWeightsNY				register(c180)	/* 8 vectors [c180,c187] */
#define REG_cavPcaWeightsNZ				register(c188)	/* 8 vectors [c188,c195] */
#define REG_cavFeatureHeights			register(c196)	/* 1 vector */


// The following parameters alias cavPcaWeightsG:
#define REG_cfMipMapBias				register(c116)
#define REG_cfBrightness				register(c117)
#define REG_cfSurfaceReflection			register(c118)
#define REG_cfRainIntensity				register(c119)
#define REG_cfSpecularPower				register(c120)
#define REG_cfMetallicScale				register(c121)
#define REG_cfEnvmapPullAmount			register(c122)
#define REG_cfEnvmapPower				register(c123)
#define REG_PAD2						register(c125)

// The following parameters alias cavPcaWeightsB:
#define REG_cfCombinedBrightness		register(c126)
#define REG_cvVisualEffectFadeColour	register(c127)	/* also aliases cfSkyAlphaTag */
#define REG_cfSkyAlphaTag				register(c127)	/* also aliases cvVisualEffectFadeColour */
#define REG_cfShadowVolumeOffset		register(c128)
#define REG_cfRVMWorldBrightness		register(c129)
#define REG_cfDesaturation				register(c130)
#define REG_cfBloomScale				register(c131)
#define REG_cfSplitScreenUVScale		register(c132)
#define REG_cfColourCubeFilterBlend		register(c133)
#define REG_cfTimeTicker				register(c134)
#define REG_cfMiddleGray				register(c135)
#define REG_cfBrightPassThreshold		register(c136)

#define REG_cvScreenOffset				register(c137)
#define REG_cvFog_Br_Plus_Bm			register(c138)
#define REG_cvFog_One_Over_BrBm			register(c139)
#define REG_cvFog_Const_1				register(c140)
#define REG_cvFog_Const_2				register(c141)
#define REG_cvFog_Const_3				register(c142)
#define REG_cvAmbientColour				register(c143)
#define REG_cvShadowParams0				register(c144)
#define REG_cvShadowParams1				register(c145)


// The following parameters alias cavPcaWeightsX:
#define REG_cvDiffuseColour				register(c148)
#define REG_cvSpecularColour			register(c149)
// available: [c150,c155] (but would alias cavPcaWeightsX)

// The following parameters alias cavPcaWeightsY:
#define REG_cvShadowColour				register(c156)
#define REG_cvTextureOffset				register(c161)
#define REG_cvLocalCenter				register(c162)
#define REG_cvTreeParams				register(c163)

// The following parameters alias cavPcaWeightsZ:
#define REG_cvBaseAlphaRef				register(c164)
#define REG_cvCloudIntensity			register(c165)
#define REG_cvLocalLightPos				register(c166)
#define REG_cvPixelizationScale			register(c167)
#define REG_cvGrassColour				register(c169)

// The following parameters alias cavPcaWeightsNX:
#define REG_cvDepthOfFieldParams		register(c172)	/* aliases cavFeatureHeights */
#define REG_cvBlurParams				register(c173)
// The following parameters alias cavPcaWeightsNX and cavPcaWeightsNY:
#define REG_cavSampleOffsetWeights		register(c174)	/* 16 vectors [c174,c189] */

#define REG_PAD0						register(c190)	/* free space!! */

#define REG_cvFogValue					register(c206)
#define REG_cvFogColour					register(c207)
#define REG_cfSkyFogFalloff				register(c208)
#define REG_cfLightMapVertColBlend		register(c209)

#define REG_cvLightColour				register(c210)
#define REG_cvLightPosition				register(c211)

#define REG_cvLightDirection			register(c212)
#define REG_cfShadowMapEnabled			register(c213)
#define REG_cfVSMEnabled				register(c214)
#define REG_cfReceiveShadow				register(c215)

#define REG_cvVertexPowerBrightness		register(c216)

#define REG_cfFogEnable					register(c240)



// Light Material Registers - alias REG_cavLightDirections

#define REG_cvDiffuseMin				register(c228)
#define REG_cvDiffuseRange				register(c229)
#define REG_cvEnvmapMin					register(c230)
#define REG_cvEnvmapRange				register(c231)
#define REG_cvSpecularMin				register(c232)
#define REG_cvSpecularRange				register(c233)
#define REG_cvSpecular1Min				register(c234)
#define REG_cvSpecular1Range			register(c235)
#define REG_cvPowers					register(c236)
#define REG_cvClampAndScales			register(c237)
#define REG_cvFlakes					register(c238)
#define REG_cvVinylScales				register(c239)

#define	REG_cvGradientParams            register(c240)
#define	REG_cvGradientColour            register(c241)
#define	REG_cvGradientColourE           register(c242)
#define	REG_ScreenRez                  	register(c243)
#define REG_cfScaleUVs					register(c244)

// for the constants heavy shader instancing
// 4 vectors, c4 to c7
#define REG_cmInstanceVP					register(c4)
#define REG_cvInstanceData					register(c8)
#define REG_cvInstanceWorldSunPosition		register(c9)
#define REG_cvInstanceWorldSunColour		register(c10)
#define REG_cvInstanceWorldAmbientColour	register(c11)
#define REG_cvInstancedFogColour			register(c12)
#define REG_cvInstancedFogValue				register(c13)
#define REG_cvInstanceArray					register(c14)


// Aliased With Light Materials ...

#define REG_cfDrawDepthOfField			register(c230)


#define REG_ciVSMEnabled				register(c)
#define REG_ciShadowMapPCFLevel			register(c)
#define REG_ciShadowMapAlphaEnabled		register(c)
#define REG_ciDoCarShadowMap			register(c)
#define REG_cbIsParallexMapped			register(c)
#define REG_cbDecompressPCA				register(c)

#define REG_DIFFUSE_SAMPLER				register(c)
#define REG_HEIGHTMAP_SAMPLER			register(c)
#define REG_MISCMAP1_SAMPLER			register(c)
#define REG_MISCMAP2_SAMPLER			register(c)
#define REG_MISCMAP3_SAMPLER			register(c)
#define REG_MISCMAP4_SAMPLER			register(c)
#define REG_OPACITY_SAMPLER				register(c)
#define REG_VOLUMEMAP_SAMPLER			register(c)
#define REG_ENVIROMAP_SAMPLER			register(c)
#define REG_NORMALMAP_SAMPLER			register(c)
#define REG_SHADOWMAP_SAMPLER			register(c)
#define REG_SHADOWVOLUME_COLOUR			register(c)
#define REG_SPECULARMAP_SAMPLER			register(c)
#define REG_PCA_COMPONENTS0_SAMPLER		register(c)
#define REG_PCA_COMPONENTS1_SAMPLER		register(c)
#define REG_PCA_COMPONENTS2_SAMPLER		register(c)
#define REG_PCA_COMPONENTS3_SAMPLER		register(c)
#define REG_HEADLIGHT_SAMPLER			register(c)
#define REG_HEADLIGHT_CLIP_SAMPLER		register(c)
#define REG_MIPMAP_GEN_SAMPLER			register(c)





</file>
  <file id="4" path="D:\eax-build1-s09-xenon\Oban\Speed\Indep\Src\Render\Shaders\shadowenum.h" time="01c7f8bf-7e400889">#ifndef SHADOWENUM_H
#define SHADOWENUM_H

// these numbers should match up with the enumerations in ShadowShaderDetail in eEffect.hpp
// (should make these in a header thats included by both fxc and the game compiler)
static const int ShadowShaderDetail_OFF = 0;
static const int ShadowShaderDetail_LOW = 1;
static const int ShadowShaderDetail_MEDIUM = 2;
static const int ShadowShaderDetail_HIGH = 3;

#endif
</file>
  <file id="5" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\fog.h" time="01c7f8c7-b0ecaa93">#ifndef FOG_H
#define FOG_H 


#include "registermap.h"

shared float4 cvFogColour			: REG_cvFogColour;

// x : fog end distance
// y : 1.0f / (fog_end_dist - fog_start_dist)
// z : maximum fog intensity (clamp to this so that objects don't turn into the pure fog colour at long ranges)
// w : exponent that modifies how the fog falls off over distance
shared float4 cvFogValue			: REG_cvFogValue;

// This is 1.0 if fog is enabled and 0.0 if fog is disabled
shared float cfFogEnable			: REG_cfFogEnable;

// Calculates the fog colour (not light scattering fog, but regular fog) for each vertex
// vert_pos should be the result of a mul(IN.position, WVP) operation
float CalcVertexFog(float4 vert_pos_screen)
{
	float fog_end = cvFogValue.x;
	float fog_recip_end_minus_start = cvFogValue.y;
	float dist_fog_power = cvFogValue.z;
	float fog_exponent = cvFogValue.w;

	//float3 screen_pos_normalized = abs(vert_pos_screen.xyz / vert_pos_screen.w);
	                                                                                                                                 
	float fog_intensity_dist = saturate((fog_end - vert_pos_screen.z) * fog_recip_end_minus_start);
	fog_intensity_dist = pow((1.0 - fog_intensity_dist), fog_exponent) * dist_fog_power;

	float result = fog_intensity_dist;

	// Maybe the fog should be off? If thats what the user wants, cfFogEnable will be 0.0f
	result *= cfFogEnable;

	// We do the following because with the Fog register, a value of 0 means full on fog colour
	// a value of 1.0 means no fog whatsoever, so we reverse it.
	result = 1.0 - result; 
        
	return result;
}



// The xbox 360 doesn't have fog hardware like PC video cards do, so implement the same functionality here
// srcColour is the output colour from the pixel shader. Modulate it by invFogIntensity.
float3 CalcFogColour(float3 src_colour, float inv_fog_intensity)
{
	//float3 fogColour	= lerp(cvFogColour.xyz, src_colour, inv_fog_intensity);
	//return fogColour;//lerp(fogColour, src_colour , pow(max(max(src_colour.x, src_colour.y) , src_colour.z), 7) );
	
	//float fog_lerp = saturate(inv_fog_intensity + pow(max(max(src_colour.x, src_colour.y) , src_colour.z), 7));
	//float3 result = src_colour * inv_fog_intensity + (1 - inv_fog_intensity) * cvFogColour.xyz;
	//return result;	
	return lerp(cvFogColour.xyz, src_colour, inv_fog_intensity);
}


//
// This version is used when the fog is calculated in the post processing
//
float4 CalcPostProcessFog(float4 srcColour, float depth)   //  w is wPos
{
	float zDist	= (1 / (1-depth));
	zDist *= cfFogEnable;

	float fog_end					= cvFogValue.x;
	float fog_recip_end_minus_start = cvFogValue.y;
	float distFogPower				= cvFogValue.z;
	float fog_exponent				= cvFogValue.w; 


	float fogIntensityDist = saturate((fog_end - zDist) * fog_recip_end_minus_start);
	fogIntensityDist = pow((1.0 - fogIntensityDist), fog_exponent) * distFogPower * 0.5;

	// pixel
	float4 result		= srcColour;
	float4 fogColour	= lerp(result, cvFogColour, fogIntensityDist);
	result.xyz			= lerp(fogColour, result.xyz , pow(max(max(result.x, result.y) , result.z), 7) );
	//result.xyz = fogColour;
	result.w			= srcColour.w;  

	//float3 blend_fog = CalcFogColour(OUT, IN.fog);
	//OUT.xyz = lerp(blend_fog, OUT.xyz , pow(max(max(OUT.x, OUT.y) , OUT.z), 7) );
	//result.xyz = pow(max(max(result.x, result.y) , result.z), 7);//fogIntensityDist;

	//result.xyz = depth;
	return result; 
}


#endif</file>
  <file id="6" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\lightscattering.h" time="01c7f8c7-b0f633ff">#define fog_g1 0
#define fog_g2 1
#define fog_g3 2
#define fog_multiplier 3
static const float kMaxDist = 7000.0f;

shared float4 cvFog_Br_Plus_Bm			: REG_cvFog_Br_Plus_Bm; //FOG_BR_PLUS_BM; // br+bm
shared float3 cvFog_One_Over_BrBm		: REG_cvFog_One_Over_BrBm; //FOG_ONE_OVER_BRBM; // 1/(br+bm)
shared float3 cvFog_Const_1				: REG_cvFog_Const_1; //FOG_CONST1; // 3/(16 * PI) * br, w=distance scale
shared float3 cvFog_Const_2				: REG_cvFog_Const_2; //FOG_CONST2; // 1/(4 * PI) * bm
shared float4 cvFog_Const_3				: REG_cvFog_Const_3; //FOG_CONST3; // (1-g)^2, 1+g*g, -2 * g, multiplier
#define cfFog_DistanceScale	cvFog_Br_Plus_Bm.w		

void CalcFogNoDistScale(in float dist, in float cos_theta, out float3 fogAdd, out float3 fogMod)
{
	//float3 t = cvFog_Br_Plus_Bm.xyz * -min(dist, kMaxDist);
	float3 t = cvFog_Br_Plus_Bm.xyz * -dist;//-min(dist, 7000.0);

	float3 extinct = exp(t.xyz);

	//OUT.FogMod.xyz = saturate(extinct.xyz * SunColor.xyz * SunColor.w);
	fogMod.xyz = saturate(extinct.xyz);

	float cos_sq = cos_theta * cos_theta;

	float phase1 = 1.0 + cos_sq;
	float phase2 = cvFog_Const_3[fog_g2] + cvFog_Const_3[fog_g3] * cos_theta;
	phase2 = rsqrt(phase2);
	phase2 = phase2 * phase2 * phase2 * cvFog_Const_3[fog_g1];

	float3 br_theta, bm_theta;

	br_theta = cvFog_Const_1.xyz * phase1;
	bm_theta = cvFog_Const_2 * phase2;
	float3 lin = (br_theta + bm_theta) * cvFog_One_Over_BrBm * (1.0 - extinct);

	//OUT.FogAdd = saturate(SunColor.xyz * lin * SunColor.w * cvFog_Const_3[fog_multiplier]);
	fogAdd = saturate(lin * cvFog_Const_3[fog_multiplier]);
}

void CalcFog(in float dist, in float cos_theta, out float3 fogAdd, out float3 fogMod)
{
	CalcFogNoDistScale(min(dist * cfFog_DistanceScale, kMaxDist), cos_theta, fogAdd, fogMod);
}
</file>
  <file id="7" path="D:\eax-build1-s09-xenon\Oban\Speed\Indep\Src\Render\Shaders\lighting_models.h" time="01c7f8bf-7e3da62e">
#ifndef LIGHTING_MODELS_H
#define LIGHTING_MODELS_H

/*
	Define All Lighting Models Here, this includes lighting models like blinn, lambert, cook-torrence, BRDF look-up table etc

*/


float3	cvWorldSunColour		: REG_cvWorldSunColour;
float3	cvWorldAmbientColour	: REG_cvWorldAmbientColour;
float4	cvSpecularColour		: REG_cvSpecularColour;		// xyz = spec colour,		w = spec intensity
float4	cfSpecularPower			: REG_cfSpecularPower;		// x = world spec power,	y = road spec power


// This Crazy Expensive Blinn Should Not Be Used Anymore....
float3 Blinn(
	float cosln,
	float3 view_dir,
	float3 light_dir,
	float3 normal,
	float eccentricity,
	float rolloff)
{
	float3 specular_color = float3(0, 0, 0);

	if( cosln &gt; 0.0f )
	{
		float3 half_angle_dir = normalize(light_dir + view_dir);

		float coseh = dot(half_angle_dir, view_dir);
		float cosnh = dot(half_angle_dir, normal);

		// We want the range of eccentricity to go from 0-1 for
		// 2 reasons. 1. UI looks much nicer. 2. texture mapping the value is much simpler
        // when the effective range of this attribute runs from 0 to 1, rather than -0.765 to
		// -2 or what ever it is otherwise. APP 09may97
		float computed_ecc = eccentricity * eccentricity - 1.0;

		//
		float denom = 1.0 + computed_ecc * cosnh * cosnh;
		float dd;
		dd = (computed_ecc + 1.0f) / denom;
		dd = dd * dd;

		cosnh = 2 * cosnh;

		float gg;
		float cosne = dot(view_dir, normal);
		if (cosne &lt; cosln) 
		{
			gg = (cosne*cosnh &lt; coseh) ? cosnh / coseh : 1.0f / cosne;
		}
		else 
		{
			gg = (cosln*cosnh &lt; coseh) ? cosln * cosnh / (coseh * cosne) : 1.0f / cosne;
		}
		
		// Fresnel calculation.
		coseh = 1.0f - coseh;
		coseh = coseh * coseh * coseh;
		float ff = coseh + (1.0f - coseh) * rolloff;


		// Make sure that the specularCoefficient doesn't become negative.
		float specular_coefficient = max(dd * gg * ff, 0);
		specular_color = specular_coefficient;

	}

//	specular_color = 0;
	return specular_color;

}

float3 BlinnPhongSpecRoad( float3 view_dir, float3 light_dir, float3 normal )
{

	float3 OUT;

	// Phong
	#if 0
	float3 R = -light_dir + 2 * (dot(normal,light_dir)*normal);
	OUT = pow(saturate(dot( R, view_dir )), n );
	#endif

	// Blinn
	#if 1
	float3 half_angle = normalize(view_dir + light_dir);

	float cosnh = dot(half_angle, normal);

	float denom = 1.0 + -0.96 * pow(cosnh,cfSpecularPower.y);
	float dd;
	dd = (0.05) / denom;

	OUT = saturate(cosnh) * dd * dd * cvSpecularColour.xyz * cvSpecularColour.w;
//	OUT = float3(1,0,0);
	#endif
		

	return OUT;

}

float3 BlinnPhongSpec( float3 view_dir, float3 light_dir, float3 normal, float n )
{

	float3 OUT;

	// Phong
	#if 0
	float3 R = -light_dir + 2 * (dot(normal,light_dir)*normal);
	OUT = pow(saturate(dot( R, view_dir )), n );
	#endif

	// Blinn
	#if 1
	float3 half_angle = normalize(view_dir + light_dir);
	OUT = pow(saturate(dot( half_angle, normal )), n );
	#endif
		
	return OUT;

}

float3 BlinnPhongSpecChars( float3 view_dir, float3 light_dir, float3 normal, float n , float3 bias_dir, float backside)
{

	float3 OUT;

	// Phong
	#if 0
	float3 R = -light_dir + 2 * (dot(normal,light_dir)*normal);
	OUT = pow(saturate(dot( R, view_dir )), n );
	#endif

	// Blinn
	#if 1
	// do sunnyside
	float3 half_angle	= normalize(view_dir + light_dir + bias_dir);
	OUT					= pow(saturate(dot( half_angle, normal )), n ) ;
	half_angle			= normalize(view_dir + bias_dir);
	half_angle			= normalize(view_dir);
	OUT					+= pow(saturate(dot( half_angle, normal )), n ) * backside;
	OUT					*= cvWorldSunColour;
	#endif
	//OUT = backside;
	return OUT;

}

float3 GranitoLightingModel( float diffuse, float shadow, float3 base, float ambient_occlusion, float vertex_colour )
{
	float3 final;

	//  cvWorldAmbientColour         ... Ambiant Color
	//  cvWorldSunColour             ... Sun Color 
	//  lighting_val_diffuse         ... NdotL * Shadow
	//  vertex_colour         ... Vertex Ambiant Occlusion
	//  ambient_occlusion            ... Texture Ambiant Occlusion
	//  base.xyz                     ... Diffuse

	// Create Light Wrap Around To Soften The World Lighting (Helps Alot!!!!)
//	if ( diffuse &lt; -0.2 ) // Might still be needed to handle shadow cutoffs
//		shadow = 1;
	diffuse = (0.2 + diffuse) / 1.2; // This creates wrap around lighting... prevent cg look to game

	// Use reverse side of diffuse to take away flat look of game....
	float diffuse_rev = 0.7 + 0.3* saturate(diffuse+1);

	// Prevent negative lighting effects...
	diffuse = max(0.0, diffuse);

	// Add up lighting in game....
	float3 lighting_val_diffuse = diffuse * shadow;
	float3 lighting_lighten = cvWorldSunColour * lighting_val_diffuse;

	// Base Texture...
	final.xyz = base.xyz * ambient_occlusion;

	// Ambient with falloff...
	float3 ambient_new = cvWorldAmbientColour * diffuse_rev;

	//apply lighting
	//final.xyz *= (lighting_lighten + ambient_new) * pow(ambient_occlusion,2.2) + (1.5 * ambient_new); // Simplified CH
	final.xyz *= (lighting_lighten + ambient_new) + (1.5 * ambient_new); // Simplified CH

	//apply vertex occ
//	final.xyz *= lerp(vertex_colour,1,lighting_val_diffuse); // Not sure there is a hardware lerp inst... so below should be faster????
	final.xyz *= (1-lighting_val_diffuse) + lighting_val_diffuse;

	return final;

}


float3 GranitoLightingModelLite( float diffuse, float shadow, float3 base )
{
	float3 final;

	//  cvWorldAmbientColour         ... Ambiant Color
	//  cvWorldSunColour             ... Sun Color 
	//  lighting_val_diffuse         ... NdotL * Shadow
	//  base.xyz                     ... Diffuse

	// Create Light Wrap Around To Soften The World Lighting (Helps Alot!!!!)
//	if ( diffuse &lt; -0.2 ) // Might still be needed to handle shadow cutoffs
//		shadow = 1;
	diffuse = (0.2 + diffuse) / 1.2; // This creates wrap around lighting... prevent cg look to game

	// Use reverse side of diffuse to take away flat look of game....
	float diffuse_rev = 0.7 + 0.3* saturate(diffuse+1);

	// Prevent negative lighting effects...
	diffuse = max(0.0, diffuse);

	// Add up lighting in game....
	float3 lighting_val_diffuse = diffuse * shadow;
	float3 lighting_lighten = cvWorldSunColour * lighting_val_diffuse;

	// Base Texture...
	final.xyz = base.xyz;

	// Ambient with falloff...
	float3 ambient_new = cvWorldAmbientColour * diffuse_rev;

	//apply lighting
//	final.xyz *= (lighting_lighten + ambient_new) + (1.5 * ambient_new); // Simplified CH
	final.xyz *= lighting_lighten + (2.5 * ambient_new);

	return final;

}

float3 GranitoLightingModelVertexShader( float diffuse, float ambient_occlusion )
{
	float3 final;

	diffuse = (0.2 + diffuse) / 1.2; // This creates wrap around lighting... prevent cg look to game

	// Use reverse side of diffuse to take away flat look of game....
	float diffuse_rev = 0.7 + 0.3* saturate(diffuse+1);

	// Prevent negative lighting effects...
	diffuse = max(0.0, diffuse);

	// Add up lighting in game....
	float3 lighting_lighten = cvWorldSunColour * diffuse;

	// Ambient with falloff...
	float3 ambient_new = cvWorldAmbientColour * diffuse_rev;

	//apply lighting
	final.xyz = (lighting_lighten + ambient_new) * ambient_occlusion + (1.5 * ambient_new); // Simplified CH

	return final;

}


/*  - To be removed to hdr-color correction library...
float3 GammaCorrection(float3 c)
{
	float3 ld			= 0.002;
	float lin_reference	= 0.18;
	float log_reference	= 444;
	float log_gamma		= 0.45;

	//c = clamp(c, 0, 100);
	
	float3 corrected;
	corrected = (log10(c/lin_reference)/ld*log_gamma + log_reference)/1023.f;

	corrected = clamp(corrected, 0, 1);

	float3 index = corrected*0.98 + 0.01;

	float3 r = tex2D(HEIGHTMAP_SAMPLER, float2(index.r, 0.5));
	float3 g = tex2D(HEIGHTMAP_SAMPLER, float2(index.g, 0.5));
	float3 b = tex2D(HEIGHTMAP_SAMPLER, float2(index.b, 0.5));

	corrected.r = r.r;
	corrected.g = g.g;
	corrected.b = b.b;

	return corrected;
}
*/

#endif
</file>
  <file id="8" path="D:\eax-build1-s09-xenon\Oban\Speed\Indep\Src\Render\Shaders\pcavertexcolours.h" time="01c7f8bf-7e3da62e">#ifndef PCA_VERTEX_COLOURS_H
#define PCA_VERTEX_COLOURS_H


shared float4   cavPcaWeightsR[2]	: REG_cavPcaWeightsR;	// PCA Instance Vertex Colours (ProStreet=ambient occlusion)
shared float4	cafPcaMean			: REG_cafPcaMean;

 


float PcaDecompressAmbientOcclusion(float4 component0, float4 component1)
{
	// Decompress the instanced PCA vertex colour
	float val = cafPcaMean[0] + dot(cavPcaWeightsR[0], component0) + dot(cavPcaWeightsR[1], component1);
	return val / 255.0f;					// result is a colour from 0-255 so convert to 0-1
}


//
// Only one component is used for shaders like the road and terrain where we know there is no instancing
//
float PcaDecompressAmbientOcclusion(float4 component0)
{
	// Decompress the instanced PCA vertex colour
	float val = cafPcaMean[0] + dot(cavPcaWeightsR[0], component0);
	return val / 255.0f;					// result is a colour from 0-255 so convert to 0-1
}

#endif
</file>
  <file id="9" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\shadowmap_fx_def.h" time="01c7f8c7-b0ffbd6b">/////////////////////////////////////////////////////////////////////////////////////////
#include "shadowenum.h"

shared float4x4	cmShadowMapWVP			: REG_cmShadowMapWVP;
shared float4x4	cmShadowMapVP			: REG_cmShadowMapVP;
shared float4x4 cmLightWVP				: REG_cmLightWVP;
shared float4x4 cmShadowMapBiasMatrix	: REG_cmShadowMapBiasMatrix;
shared float4	cvLightDirection		: REG_cvLightDirection;

shared float4 cvAmbientColour			: REG_cvAmbientColour;
shared float4 cvShadowParams0			: REG_cvShadowParams0;
shared float4 cvShadowParams1			: REG_cvShadowParams1;

shared float cfShadowMapEnabled			: REG_cfShadowMapEnabled;
shared float cfVSMEnabled				: REG_cfVSMEnabled;	
shared float cfReceiveShadow			: REG_cfReceiveShadow;


#define	cfShadowMapAlphaMin cvShadowParams0.x
#define	cfShadowMapBiasA	cvShadowParams0.y
#define	cfShadowMapBiasB	cvShadowParams0.z
#define	cfVSMEpsilon		cvShadowParams0.w

#define	ShadowMapNdotLBiasOffset	cvShadowParams1.x
#define	ShadowMapNdotLBiasScale		cvShadowParams1.y
#define	ShadowMapVSMThreshold		cvShadowParams1.z
#define	ShadowMapWingMirrorBias		cvShadowParams1.w

#define SHADOWMAP_C1				0.2f
#define SHADOWMAP_C2				0.1f

//#define cfShadowMapScaleY	cvShadowParams1.w


//#define ENABLE_SHADOW_STENCIL_MASK
//#define SHADOW_LOD_ON

#define USE_SHADOW_OPTIMIZED

/////////////////////////////////////////////////////////////////////////////////////////

sampler SHADOWMAP_SAMPLER = sampler_state
{
	BorderColor = 0xFFFFFFFF;
	AddressU    = BORDER;
	AddressV    = BORDER;
	MIPFILTER   = NONE; //POINT;
	MINFILTER   = POINT;
	MAGFILTER   = POINT;
};

/////////////////////////////////////////////////////////////////////////////////////////

struct PS_INPUT_LISPSM
{
	float4 position		: POSITION;
};

/////////////////////////////////////////////////////////////////////////////////////////

struct PS_INPUT_LISPSM_ALPHA
{
	float4 position		: POSITION;
	float4 diffuse_tex	: TEXCOORD0;
	//float4 light_tex	: TEXCOORD1;
};

/////////////////////////////////////////////////////////////////////////////////////////

struct PS_OUTPUT_LISPSM
{
	float4 color		: COLOR0;
	//	float depth			: DEPTH0;
};

/////////////////////////////////////////////////////////////////////////////////////////

struct PS_INPUT_TSM
{
	float4 position		: POSITION;
	float4 light_tex	: TEXCOORD1;
};

/////////////////////////////////////////////////////////////////////////////////////////

struct PS_INPUT_TSM_ALPHA
{
	float4 position		: POSITION;
	float4 diffuse_tex	: TEXCOORD0;
	float4 light_tex	: TEXCOORD1;
};

/////////////////////////////////////////////////////////////////////////////////////////

struct PS_OUTPUT_TSM
{
	float4 color		: COLOR0;
	float depth			: DEPTH0;
};

/////////////////////////////////////////////////////////////////////////////////////////

float4 VertexShadowTex( const float4 v_position )
{
	return mul( v_position, cmShadowMapWVP );
}

float4 VertexShadowTexOptimized( const float4 v_position, float ndotl, out float shadow_fade)
{
	float4 shadow_tex		= mul( v_position, cmShadowMapWVP );

#ifdef USE_SHADOW_OPTIMIZED

	// bias
//	shadow_tex.z			= shadow_tex.z / shadow_tex.w - ShadowMapNdotLBiasOffset - ShadowMapNdotLBiasScale * (1.0f - max(SHADOWMAP_C2, saturate(ndotl)));
	// edge attenuation
	float2 edgeAttenuation = shadow_tex.xy / shadow_tex.w;
	edgeAttenuation = saturate(1 - pow(edgeAttenuation,4));
	shadow_fade	= 1 - edgeAttenuation.x * edgeAttenuation.y;
#else
	shadow_fade = 0;
#endif

	return shadow_tex;
}

/////////////////////////////////////////////////////////////////////////////////////////
/*
float4 VertexLightTex( const float4 v_position )
{
return mul( v_position, cmLightWVP );
}
*/
/////////////////////////////////////////////////////////////////////////////////////////

float4 VertexShadowPosView( const float4 v_position )
{
	// Transform position to view space
	return mul( v_position, cmWorldView );
}

/////////////////////////////////////////////////////////////////////////////////////////

float2 GetShadowMapTexCoord( const float4 s_tex )
{
	float2	shadow_tex_c = (0.5 * s_tex.xy / s_tex.w) + 0.5f;

	shadow_tex_c.y = 1.0f - shadow_tex_c.y;

	return shadow_tex_c;
}

/////////////////////////////////////////////////////////////////////////////////////////

float4 Tex2DOffset( sampler2D ss, float2 uv, float2 offset )
{
	float4 result;
	float offsetx = offset.x;
	float offsety = offset.y;

	asm {
		tfetch2D result, uv, ss, OffsetX=offsetx, OffsetY=offsety
	};

	return result;
}

float DoShadowPCFDepth( const float2 shadow_lookup_uv, const float shadow_bias, const float shadow_fade, const int shadowDetail)
{
	float stepSize = 1.0f;
	float cornerStepSize = 0.5f;

	// Center tap
	float sum = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2(  0,  0 ) ).r; 
	sum = step( shadow_bias, sum );

	//
	// Default 9 tap PCF for anything greater than the low detail
	//
	if(shadowDetail != ShadowShaderDetail_LOW)	// const if-statement compiled out at compile time
	{
		// Top, right, bottom and left taps
		float4 first_group = 0;
		first_group.x = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2( -stepSize, 0 ) ).r; 
		first_group.y = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2( stepSize,  0 ) ).r; 
		first_group.z = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2( 0,  stepSize ) ).r; 
		first_group.w = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2(  0, -stepSize ) ).r; 

		// 4 Corner taps
		float4 second_group = 0;
		second_group.x = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2(  cornerStepSize,  cornerStepSize) ).r; 
		second_group.y = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2(  cornerStepSize, -cornerStepSize ) ).r; 
		second_group.z = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2(  -cornerStepSize, cornerStepSize ) ).r; 
		second_group.w = Tex2DOffset( SHADOWMAP_SAMPLER, shadow_lookup_uv, float2(  -cornerStepSize, -cornerStepSize ) ).r; 

		first_group = step( shadow_bias, first_group );
		second_group = step( shadow_bias, second_group );

		sum += dot(first_group, first_group);
		sum += dot(second_group, second_group);
		sum /= 9.0;
	}

	return (shadow_fade + sum);
}

float DoShadow( const float4 shadow_tex, const float ndotl, int shadowDetail = ShadowShaderDetail_HIGH)
{
	float adjusted_ndotl	= max(SHADOWMAP_C2, saturate(ndotl));


	float2 edgeAttenuation = shadow_tex.xy / shadow_tex.w;
	edgeAttenuation = saturate(1 - pow(edgeAttenuation,4));
	float2 shadow_uv		= GetShadowMapTexCoord( shadow_tex );
	float  shadow_biased	= ( shadow_tex.z / shadow_tex.w ) - ShadowMapNdotLBiasOffset - ShadowMapNdotLBiasScale * (1.0f - adjusted_ndotl);
	float  shadow_fade		= 1 - edgeAttenuation.x * edgeAttenuation.y;

	float fv =  DoShadowPCFDepth( shadow_uv, shadow_biased, shadow_fade, shadowDetail);


	if(shadowDetail != ShadowShaderDetail_LOW)	// const if-statement compiled out at compile time
	{
		fv = saturate(lerp(0.0f, fv, saturate((adjusted_ndotl - SHADOWMAP_C2)/(SHADOWMAP_C1 - SHADOWMAP_C2))) + (1.0 - cfShadowMapEnabled));
	}

	return fv;
}


float DoShadowOptimized( const float4 shadow_tex, const float ndotl, float shadow_fade, int shadowDetail = ShadowShaderDetail_HIGH)
{
	float adjusted_ndotl	= max(SHADOWMAP_C2, saturate(ndotl));

#ifdef USE_SHADOW_OPTIMIZED
	float2 shadow_uv		= GetShadowMapTexCoord( shadow_tex );
	//float  shadow_biased	= shadow_tex.z;
	float  shadow_biased	= ( shadow_tex.z / shadow_tex.w ) - ShadowMapNdotLBiasOffset - ShadowMapNdotLBiasScale * (1.0f - adjusted_ndotl);
#else
	float2 edgeAttenuation = shadow_tex.xy / shadow_tex.w;
	edgeAttenuation = saturate(1 - pow(edgeAttenuation,4));
	float2 shadow_uv		= GetShadowMapTexCoord( shadow_tex );
	float  shadow_biased	= ( shadow_tex.z / shadow_tex.w ) - ShadowMapNdotLBiasOffset - ShadowMapNdotLBiasScale * (1.0f - adjusted_ndotl);
	shadow_fade		= 1 - edgeAttenuation.x * edgeAttenuation.y;

#endif
	float fv =  DoShadowPCFDepth( shadow_uv, shadow_biased, shadow_fade, shadowDetail);

	if(shadowDetail != ShadowShaderDetail_LOW)	// const if-statement compiled out at compile time
	{
		fv = saturate(lerp(0.0f, fv, saturate((adjusted_ndotl - SHADOWMAP_C2)/(SHADOWMAP_C1 - SHADOWMAP_C2))) + (1.0 - cfShadowMapEnabled));
	}

	return fv;
}

/////////////////////////////////////////////////////////////////////////////////////////


float DoShadowCar( const float4 shadow_tex, const float ndotl, int shadowDetail = ShadowShaderDetail_HIGH )
{
	return DoShadow(shadow_tex, ndotl);
}

</file>
  <file id="10" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\ZPrePass_fx.h" time="01c7f8c7-b0dbfa16">/////////////////////////////////////////////////////////////////////////////////////////

struct PS_INPUT_Z
{
	float4 position		: POSITION;
};

PS_INPUT_Z ZPassVertexShader(const VS_INPUT IN)
{
	PS_INPUT_Z OUT;

	OUT.position = mul(IN.position, cmWorldViewProj);

	return OUT;
}

technique ZPrePass &lt;int shader = 1;&gt;
{
	pass p0
	{
		VertexShader		= compile vs_1_1 ZPassVertexShader();
		PixelShader			= NULL;
	}
}

/////////////////////////////////////////////////////////////////////////////////////////
struct PS_INPUT_VERTEX_COLOUR
{
	float4 position			: POSITION;
	float4 color			: COLOR;
};

PS_INPUT_VERTEX_COLOUR VertexShaderVertexColour(	float4 position : POSITION,
													float4 color    : COLOR)
{
	PS_INPUT_VERTEX_COLOUR OUT;

	OUT.position = mul(position, cmWorldViewProj);
	OUT.color	 = color;

	return OUT;
}

float4 PixelShaderVertexColour(const PS_INPUT_VERTEX_COLOUR IN) : COLOR0
{
	return IN.color;
}

technique RenderVertexColour &lt;int shader = 1;&gt;
{
	pass p0
	{
		VertexShader = compile vs_1_1 VertexShaderVertexColour();
		PixelShader  = compile ps_2_0 PixelShaderVertexColour();
	}
}

/////////////////////////////////////////////////////////////////////////////////////////
</file>
  <file id="11" path="D:\eax-build1-s09-xenon\Oban\Speed\Xenon\Src\Render\Shaders\shadowmap_fx.h" time="01c7f8c7-b0ffbd6b">/////////////////////////////////////////////////////////////////////////////////////////
//	Shadow Map Shaders
/////////////////////////////////////////////////////////////////////////////////////////

float4 CalcShadowBias(float4 pos)
{
	float4 Pbias;

	float4 Porig = mul(pos, cmWorldMat);

	Porig.w = 1.0f;

	float4 tmp = mul(Porig, cmShadowMapBiasMatrix); // Porig * M'

	tmp.xy /= tmp.w;

	//tmp.x *= tmp.x;//dot(tmp.xyz, tmp.xyz);
	
	float L_tex = cfShadowMapBiasA + cfShadowMapBiasB * abs(tmp.x);
	
	Pbias.xyz = Porig.xyz + cvLightDirection.xyz * L_tex;

	Pbias = mul(float4(Pbias.xyz,1), cmShadowMapVP);

	//Pbias.x = tmp.x;//L_tex;
	//Pbias = mul(Porig, cmShadowMapVP);
	//Pbias.x = cmShadowMapWVP[0][0];//dot(Pbias.xyz, Pbias.xyz);
	//Pbias.x = (cfShadowMapBiasA);// + cfShadowMapBiasB * L_tex);

	return Pbias;
}


PS_INPUT_LISPSM VertexShaderLiSPSM(const VS_INPUT IN, uniform bool use_matrix_palette)
{
	PS_INPUT_LISPSM OUT;

	float4 position = float4(IN.position.xyz, 1);

// car matrix palette specific
#ifdef CAR_SHADER 
	if (use_matrix_palette)
	{
		int index = IN.color.z * 15.1;

		float4x4 tm = camBlendMatrices[index];

		// clear damage context information
		tm[2].w = 0;
		tm[3].w = 1;

		position = mul(position, tm);
	}
#endif 

	OUT.position = mul(position, cmWorldViewProj);



	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_INPUT_LISPSM_ALPHA VertexShaderLiSPSMAlpha(const VS_INPUT IN)
{
	PS_INPUT_LISPSM_ALPHA OUT;

	float4 position = float4(IN.position.xyz, 1);

	OUT.position = mul(position, cmWorldViewProj);


	OUT.diffuse_tex.xy = IN.tex.xy;

	OUT.diffuse_tex.zw = 1.0f;

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_OUTPUT_LISPSM PixelShaderLiSPSM(const PS_INPUT_LISPSM IN)
{
	PS_OUTPUT_LISPSM OUT;

	OUT.color = 0;

//	OUT.depth = saturate(IN.light_tex.z / IN.light_tex.w);

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_OUTPUT_LISPSM PixelShaderLiSPSMAlpha(const PS_INPUT_LISPSM_ALPHA IN)
{
	PS_OUTPUT_LISPSM OUT;

	OUT.color = 0;

//	OUT.depth = saturate(IN.light_tex.z / IN.light_tex.w);
	
	float4 v_tex = tex2D(DIFFUSE_SAMPLER, IN.diffuse_tex);

	clip( v_tex.w - cfShadowMapAlphaMin );
	
	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderLiSPSM &lt;int shader = 1;&gt;
{
    pass p0
    {
		VertexShader = compile vs_1_1 VertexShaderLiSPSM(false);
		PixelShader  = NULL;//compile ps_3_0 PixelShaderLiSPSM();
    }
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderLiSPSMMatrixPalette &lt;int shader = 1;&gt;
{
	pass p0
	{
		VertexShader = compile vs_1_1 VertexShaderLiSPSM(true);
		PixelShader  = NULL;//compile ps_3_0 PixelShaderLiSPSM();
	}
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderLiSPSMAlphaTex &lt;int shader = 1;&gt;
{
    pass p0
    {
		VertexShader = compile vs_1_1 VertexShaderLiSPSMAlpha();
		PixelShader  = compile ps_3_0 PixelShaderLiSPSMAlpha();
    }
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_INPUT_TSM VertexShaderTSM(const VS_INPUT IN, uniform bool use_matrix_palette)
{
	PS_INPUT_TSM OUT;

	float4 position = float4(IN.position.xyz, 1);

// car matrix palette specific
#ifdef CAR_SHADER 
	if (use_matrix_palette)
	{
		int index = IN.color.z * 15.1;
		position = mul(position, camBlendMatrices[index]);
	}
#endif 


	OUT.position = mul(position, cmWorldViewProj);

	OUT.light_tex = mul(position, cmLightWVP);

//	OUT.position.z = OUT.light_tex.z / OUT.light_tex.w;

//	OUT.position.z *= OUT.position.w;

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_INPUT_TSM_ALPHA VertexShaderTSMAlpha(const VS_INPUT IN)
{
	PS_INPUT_TSM_ALPHA OUT;

	float4 position = float4(IN.position.xyz, 1);

	OUT.position = mul(position, cmWorldViewProj);

	OUT.diffuse_tex.xy = IN.tex.xy;
	OUT.diffuse_tex.zw = 1.0f;

	OUT.light_tex = mul(position, cmLightWVP);

//	OUT.position.z = OUT.light_tex.z / OUT.light_tex.w;

//	OUT.position.z *= OUT.position.w;

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_OUTPUT_TSM PixelShaderTSM(const PS_INPUT_TSM IN)
{
	PS_OUTPUT_TSM	OUT;

	OUT.color = 1.0;

	OUT.depth = IN.light_tex.z / IN.light_tex.w;

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_OUTPUT_TSM PixelShaderTSMAlpha(const PS_INPUT_TSM_ALPHA IN)
{
	PS_OUTPUT_TSM OUT;

	OUT.color = 1.0;
	
	OUT.depth = IN.light_tex.z / IN.light_tex.w;

	//if ( ciShadowMapAlphaEnabled )
	{
		float4 v_tex = tex2D(DIFFUSE_SAMPLER, IN.diffuse_tex);
		clip( v_tex.w - cfShadowMapAlphaMin );
	}

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderTSM &lt;int shader = 1;&gt;
{
    pass p0
    {
		VertexShader = compile vs_1_1 VertexShaderTSM(false);
		PixelShader  = compile ps_3_0 PixelShaderTSM();
    }
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderTSMMatrixPalette &lt;int shader = 1;&gt;
{
	pass p0
	{
		VertexShader = compile vs_1_1 VertexShaderTSM(true);
		PixelShader  = compile ps_3_0 PixelShaderTSM();
	}
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderTSMAlphaTex &lt;int shader = 1;&gt;
{
    pass p0
    {
		VertexShader = compile vs_1_1 VertexShaderTSMAlpha();
		PixelShader  = compile ps_3_0 PixelShaderTSMAlpha();
    }
}
/*
/////////////////////////////////////////////////////////////////////////////////////////

struct PS_INPUT_WORLD
{
	float4 position : POSITION;
};

/////////////////////////////////////////////////////////////////////////////////////////

PS_INPUT_WORLD VertexShaderWorld(const VS_INPUT IN)
{
	PS_INPUT_WORLD OUT;

	OUT.position = mul(IN.position, cmWorldViewProj);

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

struct PS_INPUT_WORLD_TEX
{
	float4 position		: POSITION;
	float2 diffuse_tex	: TEXCOORD0;
};

/////////////////////////////////////////////////////////////////////////////////////////

PS_INPUT_WORLD_TEX VertexShaderWorldTex(const VS_INPUT IN)
{
	PS_INPUT_WORLD_TEX OUT;

	OUT.position	= mul(IN.position, cmWorldViewProj);
	OUT.diffuse_tex	= IN.tex;

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_OUTPUT PixelShaderWhite(const PS_INPUT_WORLD IN)
{
	PS_OUTPUT OUT;

	OUT.color = 1.0f;

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_OUTPUT PixelShaderTexelDensity(const PS_INPUT_WORLD_TEX IN)
{
	PS_OUTPUT OUT;

	OUT.color.x   = fmod( floor( IN.diffuse_tex.x*cfDiffuseMapWidth /10 ), 2 );
	OUT.color.y   = fmod( floor( IN.diffuse_tex.y*cfDiffuseMapHeight/10 ), 2 );
	OUT.color.xyz = fmod( OUT.color.x+OUT.color.y, 2 );
	OUT.color.w   = 1.0f;

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

PS_OUTPUT PixelShaderWhiteAlphaTex( const PS_INPUT_WORLD_TEX IN )
{
	PS_OUTPUT OUT;

	float4	v_tex = tex2D(DIFFUSE_SAMPLER, IN.diffuse_tex);

	// check alpha
	if ( v_tex.w &gt; cfShadowMapAlphaMin )
	{
		OUT.color = ( 1.0f, 1.0f, 1.0f, 1.0f );
	}
	else
	{
		// generate texkill
		float	v_kill = -1.0f;
		clip( v_kill );
	}

	return OUT;
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderWhite &lt;int shader = 1;&gt;
{
    pass p0
    {
		VertexShader = compile vs_1_1 VertexShaderWorld();
        PixelShader  = compile ps_3_0 PixelShaderWhite();
    }
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderTexelDensity &lt;int shader = 1;&gt;
{
    pass p0
    {
		VertexShader = compile vs_1_1 VertexShaderWorldTex();
        PixelShader  = compile ps_3_0 PixelShaderTexelDensity();
    }
}

/////////////////////////////////////////////////////////////////////////////////////////

technique RenderWhiteAlphaTex &lt;int shader = 1;&gt;
{
    pass p0
    {
		VertexShader = compile vs_1_1 VertexShaderWorldTex();
        PixelShader  = compile ps_3_0 PixelShaderWhiteAlphaTex();
    }
}
*/
/////////////////////////////////////////////////////////////////////////////////////////
</file>
 </files>
 <tool name="FXLite">
  <defines>
   <define name="PLAT_XENON" value="" />
  </defines>
  <arguments>
   <argument name="/Zi" value="false" />
   <argument name="/Vd" value="false" />
   <argument name="/Xu0_deprecated" value="false" />
   <argument name="/Odu_deprecated" value="false" />
   <argument name="/XOd_" value="false" />
   <argument name="/XOu" value="false" />
   <argument name="/Xmaxtempreg" value="0" />
   <argument name="PsSampBase" value="0" />
   <argument name="PsSampCount" value="0" />
   <argument name="VsSampBase" value="0" />
   <argument name="VsSampCount" value="0" />
   <argument name="VsInstCount" value="0" />
   <argument name="PsInstCount" value="0" />
   <argument name="/Od" value="false" />
   <argument name="/Zpr" value="false" />
   <argument name="/Zpc" value="false" />
   <argument name="/Gpp" value="false" />
   <argument name="/Op" value="false" />
   <argument name="/Gfa" value="false" />
   <argument name="/Gfp" value="false" />
   <argument name="/XZc:zeroInit" value="false" />
   <argument name="/XVe" value="false" />
   <argument name="/Xbe:3-" value="false" />
   <argument name="/Xbe:1-" value="false" />
   <argument name="/XQInomaskedexports" value="false" />
   <argument name="/XOautoz" value="false" />
   <argument name="/XfxAv" value="false" />
   <argument name="/XfxAs" value="false" />
   <argument name="/XfxPv" value="false" />
  </arguments>
 </tool>
 <shaders>
  <shader entrypoint="PixelShaderTSMAlpha" target="ps_3_0" FxlTechniqueName="grassterrain" FxlTechnique="9" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0000-28546480-07604f6d">
   <constanttable>
    <constant register="s0">
     <type name="TERRAINONE_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="c144">
     <type name="cvShadowParams0" class="vector" type="float" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="2" file="11" line="220" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="220" scope="-1" lastinstruction="0" />
    <statement pc="3" file="11" line="221" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="221" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="224" scope="-1" lastinstruction="0" />
    <statement pc="6" file="11" line="216" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x50" Mask="xyzw" />
    <Interpolator Register="1" Semantic="0x51" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="252" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="253" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="254" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="255" value0="1" value1="0" value2="0" value3="0" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="VertexShaderTSMAlpha" target="vs_3_0" FxlTechniqueName="grassterrain" FxlTechnique="9" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0001-28546480-07604f6d">
   <constanttable>
    <constant register="c20" count="4">
     <type name="cmLightWVP" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="11" line="175" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="175" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="175" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="181" scope="-1" lastinstruction="0" />
    <statement pc="6" file="11" line="181" scope="-1" lastinstruction="0" />
    <statement pc="7" file="11" line="181" scope="-1" lastinstruction="0" />
    <statement pc="8" file="11" line="181" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="11" line="181" scope="-1" lastinstruction="0" />
    <statement pc="9" file="11" line="192" scope="-1" lastinstruction="0" />
    <statement pc="10" file="11" line="186" scope="-1" lastinstruction="0" />
    <statement pc="11" file="11" line="186" scope="-1" lastinstruction="0" />
    <statement pc="12" file="11" line="186" scope="-1" lastinstruction="0" />
    <statement pc="13" file="11" line="186" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="1" DestSwizzle="xyz1" Semantic="0x00" End="false" />
    <vfetch Address="4" Register="0" DestSwizzle="xy1_" Semantic="0x50" End="true" />
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x50" Mask="xyzw" />
    <Interpolator Register="1" Semantic="0x51" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="PixelShaderTSM" target="ps_3_0" FxlTechniqueName="lowlod" FxlTechnique="8" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0002-28546480-07604f6d">
   <constanttable>
   </constanttable>
   <sourcemap>
    <statement pc="1" file="11" line="203" scope="-1" lastinstruction="0" />
    <statement pc="2" file="11" line="205" scope="-1" lastinstruction="0" />
    <statement pc="3" file="11" line="203" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x51" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="252" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="253" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="254" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="255" value0="1" value1="0" value2="0" value3="0" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="VertexShaderTSM" target="vs_3_0" FxlTechniqueName="lowlod" FxlTechnique="8" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0003-28546480-07604f6d">
   <constanttable>
    <constant register="c20" count="4">
     <type name="cmLightWVP" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="11" line="146" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="146" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="6" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="7" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="8" file="11" line="164" scope="-1" lastinstruction="0" />
    <statement pc="9" file="11" line="164" scope="-1" lastinstruction="0" />
    <statement pc="10" file="11" line="164" scope="-1" lastinstruction="0" />
    <statement pc="11" file="11" line="164" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="0" DestSwizzle="xyz1" Semantic="0x00" End="false" />
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x51" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="PixelShaderTSM" target="ps_3_0" FxlTechniqueName="ZPrePass" FxlTechnique="7" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0004-28546480-07604f6d">
   <constanttable>
   </constanttable>
   <sourcemap>
    <statement pc="1" file="11" line="203" scope="-1" lastinstruction="0" />
    <statement pc="2" file="11" line="205" scope="-1" lastinstruction="0" />
    <statement pc="3" file="11" line="203" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x51" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="252" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="253" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="254" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="255" value0="1" value1="0" value2="0" value3="0" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="VertexShaderTSM" target="vs_3_0" FxlTechniqueName="ZPrePass" FxlTechnique="7" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0005-28546480-07604f6d">
   <constanttable>
    <constant register="c20" count="4">
     <type name="cmLightWVP" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="11" line="146" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="146" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="6" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="7" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="11" line="162" scope="-1" lastinstruction="0" />
    <statement pc="8" file="11" line="164" scope="-1" lastinstruction="0" />
    <statement pc="9" file="11" line="164" scope="-1" lastinstruction="0" />
    <statement pc="10" file="11" line="164" scope="-1" lastinstruction="0" />
    <statement pc="11" file="11" line="164" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="0" DestSwizzle="xyz1" Semantic="0x00" End="false" />
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x51" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="PixelShaderLiSPSMAlpha" target="ps_3_0" FxlTechniqueName="RenderVertexColour" FxlTechnique="6" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0006-28546480-07604f6d">
   <constanttable>
    <constant register="s0">
     <type name="TERRAINONE_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="c144">
     <type name="cvShadowParams0" class="vector" type="float" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="2" file="11" line="104" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="104" scope="-1" lastinstruction="0" />
    <statement pc="3" file="11" line="106" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="106" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="108" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x50" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="252" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="253" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="254" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="255" value0="0" value1="0" value2="0" value3="0" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="VertexShaderLiSPSMAlpha" target="vs_3_0" FxlTechniqueName="RenderVertexColour" FxlTechnique="6" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0007-28546480-07604f6d">
   <constanttable>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="11" line="65" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="65" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="65" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="71" scope="-1" lastinstruction="0" />
    <statement pc="6" file="11" line="71" scope="-1" lastinstruction="0" />
    <statement pc="7" file="11" line="71" scope="-1" lastinstruction="0" />
    <statement pc="8" file="11" line="71" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="11" line="71" scope="-1" lastinstruction="0" />
    <statement pc="9" file="11" line="78" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="1" DestSwizzle="xyz1" Semantic="0x00" End="false" />
    <vfetch Address="4" Register="0" DestSwizzle="xy1_" Semantic="0x50" End="true" />
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x50" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="VertexShaderLiSPSM" target="vs_3_0" FxlTechniqueName="RenderLiSPSM" FxlTechnique="5" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0008-28546480-07604f6d">
   <constanttable>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="11" line="34" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="34" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="6" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="7" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="2.0" file="11" line="60" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="0" DestSwizzle="xyz1" Semantic="0x00" End="false" />
   </VfetchInfo>
   <InterpolatorInfo>
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="VertexShaderLiSPSM" target="vs_3_0" FxlTechniqueName="RenderLiSPSMMatrixPalette" FxlTechnique="4" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0009-28546480-07604f6d">
   <constanttable>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="11" line="34" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="11" line="34" scope="-1" lastinstruction="0" />
    <statement pc="4" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="5" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="6" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="7" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="11" line="56" scope="-1" lastinstruction="0" />
    <statement pc="2.0" file="11" line="60" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="0" DestSwizzle="xyz1" Semantic="0x00" End="false" />
   </VfetchInfo>
   <InterpolatorInfo>
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="PixelShaderVertexColour" target="ps_3_0" FxlTechniqueName="RenderLiSPSMAlphaTex" FxlTechnique="3" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a000a-28546480-07604f6d">
   <constanttable>
   </constanttable>
   <sourcemap>
    <statement pc="1" file="10" line="46" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0xa0" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="VertexShaderVertexColour" target="vs_3_0" FxlTechniqueName="RenderLiSPSMAlphaTex" FxlTechnique="3" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a000b-28546480-07604f6d">
   <constanttable>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="10" line="33" scope="-1" lastinstruction="0" />
    <statement pc="4" file="10" line="33" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="10" line="33" scope="-1" lastinstruction="0" />
    <statement pc="5" file="10" line="38" scope="-1" lastinstruction="0" />
    <statement pc="6" file="10" line="38" scope="-1" lastinstruction="0" />
    <statement pc="7" file="10" line="38" scope="-1" lastinstruction="0" />
    <statement pc="8" file="10" line="38" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="10" line="38" scope="-1" lastinstruction="0" />
    <statement pc="9" file="10" line="41" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="1" DestSwizzle="xyzw" Semantic="0x00" End="false" />
    <vfetch Address="4" Register="0" DestSwizzle="xyzw" Semantic="0xa0" End="true" />
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0xa0" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="ZPassVertexShader" target="vs_3_0" FxlTechniqueName="RenderTSM" FxlTechnique="2" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a000c-28546480-07604f6d">
   <constanttable>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="10" line="8" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="10" line="8" scope="-1" lastinstruction="0" />
    <statement pc="4" file="10" line="12" scope="-1" lastinstruction="0" />
    <statement pc="5" file="10" line="12" scope="-1" lastinstruction="0" />
    <statement pc="6" file="10" line="12" scope="-1" lastinstruction="0" />
    <statement pc="7" file="10" line="12" scope="-1" lastinstruction="0" />
    <statement pc="1.1" file="10" line="12" scope="-1" lastinstruction="0" />
    <statement pc="2.0" file="10" line="14" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="0" DestSwizzle="xyzw" Semantic="0x00" End="false" />
   </VfetchInfo>
   <InterpolatorInfo>
   </InterpolatorInfo>
   <LiteralFloats>
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="pixel_shader_low" target="ps_3_0" FxlTechniqueName="RenderTSMMatrixPalette" FxlTechnique="1" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a000d-28546480-07604f6d">
   <constanttable>
    <constant register="s0">
     <type name="TERRAINONE_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="c216">
     <type name="cvVertexPowerBrightness" class="vector" type="float" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="2" file="1" line="406" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="1" line="406" scope="-1" lastinstruction="0" />
    <statement pc="3" file="1" line="407" scope="-1" lastinstruction="0" />
    <statement pc="4" file="1" line="407" scope="-1" lastinstruction="0" />
    <statement pc="5" file="1" line="407" scope="-1" lastinstruction="0" />
    <statement pc="6" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="7" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="8" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="9" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="10" file="2" line="54" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0xa0" Mask="xy" />
    <Interpolator Register="1" Semantic="0x50" Mask="xy" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="252" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="253" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="254" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="255" value0="1" value1="0" value2="0" value3="0" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="vertex_shader_low" target="vs_3_0" FxlTechniqueName="RenderTSMMatrixPalette" FxlTechnique="1" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a000e-28546480-07604f6d">
   <constanttable>
    <constant register="c81">
     <type name="cafPcaMean" class="vector" type="float" columns="4" />
    </constant>
    <constant register="c82" count="2">
     <type name="cavPcaWeightsR" class="vector" type="float" columns="4" elements="2" />
    </constant>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c137">
     <type name="cvScreenOffset" class="vector" type="float" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="3" file="0" line="18" scope="-1" lastinstruction="0" />
    <statement pc="4" file="0" line="18" scope="-1" lastinstruction="0" />
    <statement pc="5" file="0" line="18" scope="-1" lastinstruction="0" />
    <statement pc="6" file="0" line="18" scope="-1" lastinstruction="0" />
    <statement pc="7" file="0" line="18" scope="-1" lastinstruction="0" />
    <statement pc="0.1" file="0" line="18" scope="-1" lastinstruction="0" />
    <statement pc="8" file="2" line="20" scope="-1" lastinstruction="0" />
    <statement pc="9" file="2" line="21" scope="-1" lastinstruction="0" />
    <statement pc="10" file="2" line="21" scope="-1" lastinstruction="0" />
    <statement pc="11" file="8" line="14" scope="-1" lastinstruction="0" />
    <statement pc="12" file="2" line="20" scope="-1" lastinstruction="0" />
    <statement pc="13" file="8" line="14" scope="-1" lastinstruction="0" />
    <statement pc="14" file="2" line="21" scope="-1" lastinstruction="0" />
    <statement pc="15" file="8" line="14" scope="-1" lastinstruction="0" />
    <statement pc="16" file="8" line="14" scope="-1" lastinstruction="0" />
    <statement pc="17" file="0" line="20" scope="-1" lastinstruction="0" />
    <statement pc="2.0" file="0" line="20" scope="-1" lastinstruction="0" />
    <statement pc="18" file="0" line="20" scope="-1" lastinstruction="0" />
    <statement pc="19" file="0" line="20" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="3" Register="3" DestSwizzle="xyzw" Semantic="0x00" End="false" />
    <vfetch Address="4" Register="1" DestSwizzle="_w__" Semantic="0xa0" End="false" />
    <vfetch Address="5" Register="0" DestSwizzle="__xy" Semantic="0x50" End="false" />
    <vfetch Address="6" Register="4" DestSwizzle="xyzw" Semantic="0x51" End="false" />
    <vfetch Address="7" Register="5" DestSwizzle="xyzw" Semantic="0x52" End="true" />
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0xa0" Mask="xy" />
    <Interpolator Register="1" Semantic="0x50" Mask="xy" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="252" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="253" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="254" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="255" value0="0.0039215689" value1="0" value2="0" value3="0" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="pixel_shader" target="ps_3_0" FxlTechniqueName="RenderTSMAlphaTex" FxlTechnique="0" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a000f-28546480-07604f6d">
   <constanttable>
    <constant register="s5">
     <type name="MISCMAP1_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="s4">
     <type name="NORMALMAP2_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="s3">
     <type name="NORMALMAP_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="s0">
     <type name="SHADOWMAP_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="s1">
     <type name="TERRAINONE_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="s2">
     <type name="TERRAINTWO_SAMPLER" class="object" type="sampler2D" />
    </constant>
    <constant register="c116">
     <type name="cfMipMapBias" class="scalar" type="float" />
    </constant>
    <constant register="c213">
     <type name="cfShadowMapEnabled" class="scalar" type="float" />
    </constant>
    <constant register="c4" count="3">
     <type name="cmWorldMat" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c207">
     <type name="cvFogColour" class="vector" type="float" columns="4" />
    </constant>
    <constant register="c33">
     <type name="cvLocalLightVec" class="vector" type="float" columns="4" />
    </constant>
    <constant register="c145">
     <type name="cvShadowParams1" class="vector" type="float" columns="4" />
    </constant>
    <constant register="c80">
     <type name="cvWorldAmbientColour" class="vector" type="float" columns="3" />
    </constant>
    <constant register="c79">
     <type name="cvWorldSunColour" class="vector" type="float" columns="3" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="9" file="1" line="293" scope="-1" lastinstruction="0" />
    <statement pc="10" file="1" line="293" scope="-1" lastinstruction="0" />
    <statement pc="11" file="1" line="313" scope="-1" lastinstruction="0" />
    <statement pc="12" file="1" line="345" scope="-1" lastinstruction="0" />
    <statement pc="13" file="1" line="293" scope="-1" lastinstruction="0" />
    <statement pc="14" file="1" line="305" scope="-1" lastinstruction="0" />
    <statement pc="15" file="1" line="345" scope="-1" lastinstruction="0" />
    <statement pc="16" file="1" line="314" scope="-1" lastinstruction="0" />
    <statement pc="17" file="1" line="282" scope="-1" lastinstruction="0" />
    <statement pc="18" file="1" line="277" scope="-1" lastinstruction="0" />
    <statement pc="19" file="1" line="278" scope="-1" lastinstruction="0" />
    <statement pc="20" file="1" line="322" scope="-1" lastinstruction="0" />
    <statement pc="21" file="1" line="319" scope="-1" lastinstruction="0" />
    <statement pc="22" file="1" line="278" scope="-1" lastinstruction="0" />
    <statement pc="23" file="1" line="277" scope="-1" lastinstruction="0" />
    <statement pc="24" file="1" line="214" scope="-1" lastinstruction="0" />
    <statement pc="25" file="1" line="322" scope="-1" lastinstruction="0" />
    <statement pc="26" file="1" line="279" scope="-1" lastinstruction="0" />
    <statement pc="27" file="1" line="279" scope="-1" lastinstruction="0" />
    <statement pc="28" file="1" line="326" scope="-1" lastinstruction="0" />
    <statement pc="29" file="1" line="326" scope="-1" lastinstruction="0" />
    <statement pc="30" file="1" line="326" scope="-1" lastinstruction="0" />
    <statement pc="31" file="1" line="330" scope="-1" lastinstruction="0" />
    <statement pc="32" file="1" line="282" scope="-1" lastinstruction="0" />
    <statement pc="33" file="1" line="282" scope="-1" lastinstruction="0" />
    <statement pc="34" file="1" line="331" scope="-1" lastinstruction="0" />
    <statement pc="35" file="1" line="279" scope="-1" lastinstruction="0" />
    <statement pc="36" file="1" line="331" scope="-1" lastinstruction="0" />
    <statement pc="37" file="1" line="331" scope="-1" lastinstruction="0" />
    <statement pc="38" file="1" line="335" scope="-1" lastinstruction="0" />
    <statement pc="39" file="1" line="335" scope="-1" lastinstruction="0" />
    <statement pc="40" file="1" line="336" scope="-1" lastinstruction="0" />
    <statement pc="41" file="1" line="336" scope="-1" lastinstruction="0" />
    <statement pc="42" file="1" line="336" scope="-1" lastinstruction="0" />
    <statement pc="43" file="1" line="337" scope="-1" lastinstruction="0" />
    <statement pc="44" file="9" line="146" scope="-1" lastinstruction="0" />
    <statement pc="45" file="1" line="337" scope="-1" lastinstruction="0" />
    <statement pc="46" file="7" line="168" scope="-1" lastinstruction="0" />
    <statement pc="47" file="7" line="168" scope="-1" lastinstruction="0" />
    <statement pc="48" file="7" line="168" scope="-1" lastinstruction="0" />
    <statement pc="49" file="7" line="171" scope="-1" lastinstruction="0" />
    <statement pc="50" file="7" line="171" scope="-1" lastinstruction="0" />
    <statement pc="51" file="7" line="171" scope="-1" lastinstruction="0" />
    <statement pc="52" file="9" line="148" scope="-1" lastinstruction="0" />
    <statement pc="53" file="1" line="293" scope="-1" lastinstruction="0" />
    <statement pc="54" file="1" line="305" scope="-1" lastinstruction="0" />
    <statement pc="55" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="56" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="57" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="58" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="59" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="60" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="61" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="62" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="63" file="9" line="162" scope="-1" lastinstruction="0" />
    <statement pc="64" file="1" line="292" scope="-1" lastinstruction="0" />
    <statement pc="5.0" file="1" line="292" scope="-1" lastinstruction="0" />
    <statement pc="65" file="9" line="237" scope="-1" lastinstruction="0" />
    <statement pc="66" file="1" line="349" scope="-1" lastinstruction="0" />
    <statement pc="67" file="1" line="349" scope="-1" lastinstruction="0" />
    <statement pc="68" file="7" line="174" scope="-1" lastinstruction="0" />
    <statement pc="69" file="9" line="250" scope="-1" lastinstruction="0" />
    <statement pc="70" file="9" line="237" scope="-1" lastinstruction="0" />
    <statement pc="71" file="9" line="197" scope="-1" lastinstruction="0" />
    <statement pc="72" file="9" line="196" scope="-1" lastinstruction="0" />
    <statement pc="73" file="9" line="197" scope="-1" lastinstruction="0" />
    <statement pc="74" file="9" line="200" scope="-1" lastinstruction="0" />
    <statement pc="75" file="9" line="200" scope="-1" lastinstruction="0" />
    <statement pc="76" file="9" line="200" scope="-1" lastinstruction="0" />
    <statement pc="77" file="9" line="200" scope="-1" lastinstruction="0" />
    <statement pc="78" file="9" line="200" scope="-1" lastinstruction="0" />
    <statement pc="79" file="7" line="184" scope="-1" lastinstruction="0" />
    <statement pc="80" file="1" line="352" scope="-1" lastinstruction="0" />
    <statement pc="81" file="1" line="352" scope="-1" lastinstruction="0" />
    <statement pc="82" file="7" line="188" scope="-1" lastinstruction="0" />
    <statement pc="83" file="9" line="204" scope="-1" lastinstruction="0" />
    <statement pc="84" file="9" line="250" scope="-1" lastinstruction="0" />
    <statement pc="85" file="7" line="177" scope="-1" lastinstruction="0" />
    <statement pc="86" file="7" line="178" scope="-1" lastinstruction="0" />
    <statement pc="87" file="7" line="188" scope="-1" lastinstruction="0" />
    <statement pc="88" file="7" line="192" scope="-1" lastinstruction="0" />
    <statement pc="89" file="7" line="188" scope="-1" lastinstruction="0" />
    <statement pc="90" file="1" line="365" scope="-1" lastinstruction="0" />
    <statement pc="91" file="7" line="192" scope="-1" lastinstruction="0" />
    <statement pc="92" file="5" line="56" scope="-1" lastinstruction="0" />
    <statement pc="93" file="5" line="56" scope="-1" lastinstruction="0" />
    <statement pc="94" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="95" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="96" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="97" file="2" line="54" scope="-1" lastinstruction="0" />
    <statement pc="98" file="2" line="54" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x50" Mask="xyzw" />
    <Interpolator Register="1" Semantic="0x51" Mask="xyzw" />
    <Interpolator Register="2" Semantic="0x52" Mask="xyzw" />
    <Interpolator Register="3" Semantic="0x53" Mask="xyzw" />
    <Interpolator Register="4" Semantic="0x54" Mask="xyzw" />
    <Interpolator Register="5" Semantic="0x55" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="248" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="249" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="250" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="251" value0="-1" value1="14" value2="1" value3="0.2" />
    <Float Register="252" value0="0.30000001" value1="7" value2="1.5" value3="0.11111111" />
    <Float Register="253" value0="0.83333331" value1="1.5" value2="0.73696554" value3="0.68000001" />
    <Float Register="254" value0="0.69999999" value1="0.5" value2="0" value3="0.1" />
    <Float Register="255" value0="10" value1="0" value2="0" value3="0" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
  <shader entrypoint="vertex_shader" target="vs_3_0" FxlTechniqueName="RenderTSMAlphaTex" FxlTechnique="0" FxlPassName="p0" FxlPass="0" ZPass="0" pdbHint="4e4a0010-28546480-07604f6d">
   <constanttable>
    <constant register="c81">
     <type name="cafPcaMean" class="vector" type="float" columns="4" />
    </constant>
    <constant register="c82">
     <type name="cavPcaWeightsR" class="vector" type="float" columns="4" elements="2" />
    </constant>
    <constant register="c240">
     <type name="cfFogEnable" class="scalar" type="float" />
    </constant>
    <constant register="c16" count="4">
     <type name="cmShadowMapWVP" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c4" count="3">
     <type name="cmWorldMat" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c24" count="4">
     <type name="cmWorldViewProj" class="matrix_columns" type="float" rows="4" columns="4" />
    </constant>
    <constant register="c206">
     <type name="cvFogValue" class="vector" type="float" columns="4" />
    </constant>
    <constant register="c32">
     <type name="cvLocalEyePos" class="vector" type="float" columns="3" />
    </constant>
    <constant register="c137">
     <type name="cvScreenOffset" class="vector" type="float" columns="4" />
    </constant>
   </constanttable>
   <sourcemap>
    <statement pc="6" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="7" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="8" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="9" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="10" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="11" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="12" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="1.0" file="0" line="7" scope="-1" lastinstruction="0" />
    <statement pc="13" file="5" line="29" scope="-1" lastinstruction="0" />
    <statement pc="14" file="2" line="20" scope="-1" lastinstruction="0" />
    <statement pc="15" file="2" line="21" scope="-1" lastinstruction="0" />
    <statement pc="16" file="2" line="21" scope="-1" lastinstruction="0" />
    <statement pc="17" file="2" line="21" scope="-1" lastinstruction="0" />
    <statement pc="18" file="0" line="9" scope="-1" lastinstruction="0" />
    <statement pc="2.0" file="0" line="9" scope="-1" lastinstruction="0" />
    <statement pc="19" file="8" line="25" scope="-1" lastinstruction="0" />
    <statement pc="20" file="1" line="255" scope="-1" lastinstruction="0" />
    <statement pc="21" file="9" line="110" scope="-1" lastinstruction="0" />
    <statement pc="22" file="9" line="110" scope="-1" lastinstruction="0" />
    <statement pc="23" file="9" line="110" scope="-1" lastinstruction="0" />
    <statement pc="24" file="1" line="242" scope="-1" lastinstruction="0" />
    <statement pc="25" file="9" line="110" scope="-1" lastinstruction="0" />
    <statement pc="26" file="5" line="29" scope="-1" lastinstruction="0" />
    <statement pc="27" file="1" line="243" scope="-1" lastinstruction="0" />
    <statement pc="28" file="9" line="117" scope="-1" lastinstruction="0" />
    <statement pc="29" file="9" line="118" scope="-1" lastinstruction="0" />
    <statement pc="30" file="1" line="243" scope="-1" lastinstruction="0" />
    <statement pc="31" file="9" line="118" scope="-1" lastinstruction="0" />
    <statement pc="32" file="0" line="9" scope="-1" lastinstruction="0" />
    <statement pc="33" file="0" line="9" scope="-1" lastinstruction="0" />
    <statement pc="34" file="0" line="9" scope="-1" lastinstruction="0" />
    <statement pc="35" file="0" line="9" scope="-1" lastinstruction="0" />
    <statement pc="36" file="1" line="256" scope="-1" lastinstruction="0" />
    <statement pc="37" file="1" line="247" scope="-1" lastinstruction="0" />
    <statement pc="38" file="1" line="247" scope="-1" lastinstruction="0" />
    <statement pc="39" file="1" line="247" scope="-1" lastinstruction="0" />
    <statement pc="40" file="1" line="247" scope="-1" lastinstruction="0" />
    <statement pc="41" file="5" line="35" scope="-1" lastinstruction="0" />
    <statement pc="42" file="1" line="247" scope="-1" lastinstruction="0" />
    <statement pc="43" file="1" line="248" scope="-1" lastinstruction="0" />
    <statement pc="44" file="1" line="248" scope="-1" lastinstruction="0" />
    <statement pc="45" file="9" line="119" scope="-1" lastinstruction="0" />
    <statement pc="46" file="9" line="119" scope="-1" lastinstruction="0" />
    <statement pc="47" file="8" line="25" scope="-1" lastinstruction="0" />
    <statement pc="48" file="1" line="255" scope="-1" lastinstruction="0" />
    <statement pc="49" file="1" line="251" scope="-1" lastinstruction="0" />
    <statement pc="50" file="1" line="256" scope="-1" lastinstruction="0" />
    <statement pc="51" file="1" line="256" scope="-1" lastinstruction="0" />
    <statement pc="52" file="1" line="256" scope="-1" lastinstruction="0" />
    <statement pc="53" file="0" line="9" scope="-1" lastinstruction="0" />
   </sourcemap>
   <variables>
   </variables>
   <variableDebugInfo>
   </variableDebugInfo>
   <scopes>
   </scopes>
   <funcInfo>
    <function id="0" name="PixelShaderTSMAlpha" retID="397">
     <parameter id="396" />
    </function>
    <function id="1" name="PixelShaderTSM" retID="394">
     <parameter id="393" />
    </function>
    <function id="2" name="VertexShaderTSMAlpha" retID="390">
     <parameter id="389" />
    </function>
    <function id="3" name="VertexShaderTSM" retID="386">
     <parameter id="384" />
     <parameter id="385" />
    </function>
    <function id="4" name="PixelShaderLiSPSMAlpha" retID="378">
     <parameter id="377" />
    </function>
    <function id="5" name="PixelShaderLiSPSM" retID="375">
     <parameter id="374" />
    </function>
    <function id="6" name="VertexShaderLiSPSMAlpha" retID="371">
     <parameter id="370" />
    </function>
    <function id="7" name="VertexShaderLiSPSM" retID="367">
     <parameter id="365" />
     <parameter id="366" />
    </function>
    <function id="8" name="CalcShadowBias" retID="360">
     <parameter id="359" />
    </function>
    <function id="9" name="PixelShaderVertexColour" retID="357">
     <parameter id="356" />
    </function>
    <function id="10" name="VertexShaderVertexColour" retID="354">
     <parameter id="352" />
     <parameter id="353" />
    </function>
    <function id="11" name="ZPassVertexShader" retID="346">
     <parameter id="345" />
    </function>
    <function id="12" name="pixel_shader_low" retID="342">
     <parameter id="341" />
    </function>
    <function id="13" name="vertex_shader_low" retID="340">
     <parameter id="339" />
    </function>
    <function id="14" name="pixel_shader" retID="338">
     <parameter id="337" />
    </function>
    <function id="15" name="vertex_shader" retID="336">
     <parameter id="335" />
    </function>
    <function id="16" name="GrassterrainPixelShaderLowLOD" retID="332">
     <parameter id="331" />
    </function>
    <function id="17" name="GrassterrainVertexShaderLowLOD" retID="329">
     <parameter id="328" />
    </function>
    <function id="18" name="GrassterrainPixelShader" retID="306">
     <parameter id="304" />
     <parameter id="305" />
     <parameter id="0" />
    </function>
    <function id="19" name="GrassterrainVertexShader" retID="293">
     <parameter id="292" />
    </function>
    <function id="20" name="bias" retID="291">
     <parameter id="289" />
     <parameter id="290" />
    </function>
    <function id="21" name="DoShadowCar" retID="250">
     <parameter id="247" />
     <parameter id="248" />
     <parameter id="249" />
     <parameter id="0" />
    </function>
    <function id="22" name="DoShadowOptimized" retID="242">
     <parameter id="238" />
     <parameter id="239" />
     <parameter id="240" />
     <parameter id="241" />
     <parameter id="0" />
    </function>
    <function id="23" name="DoShadow" retID="231">
     <parameter id="228" />
     <parameter id="229" />
     <parameter id="230" />
     <parameter id="0" />
    </function>
    <function id="24" name="DoShadowPCFDepth" retID="222">
     <parameter id="218" />
     <parameter id="219" />
     <parameter id="220" />
     <parameter id="221" />
    </function>
    <function id="25" name="Tex2DOffset" retID="214">
     <parameter id="211" />
     <parameter id="212" />
     <parameter id="213" />
    </function>
    <function id="26" name="GetShadowMapTexCoord" retID="209">
     <parameter id="208" />
    </function>
    <function id="27" name="VertexShadowPosView" retID="207">
     <parameter id="206" />
    </function>
    <function id="28" name="VertexShadowTexOptimized" retID="203">
     <parameter id="200" />
     <parameter id="201" />
     <parameter id="202" />
    </function>
    <function id="29" name="VertexShadowTex" retID="199">
     <parameter id="198" />
    </function>
    <function id="30" name="PcaDecompressAmbientOcclusion" retID="167">
     <parameter id="166" />
    </function>
    <function id="31" name="PcaDecompressAmbientOcclusion" retID="164">
     <parameter id="162" />
     <parameter id="163" />
    </function>
    <function id="32" name="GranitoLightingModelVertexShader" retID="155">
     <parameter id="153" />
     <parameter id="154" />
    </function>
    <function id="33" name="GranitoLightingModelLite" retID="147">
     <parameter id="144" />
     <parameter id="145" />
     <parameter id="146" />
    </function>
    <function id="34" name="GranitoLightingModel" retID="138">
     <parameter id="133" />
     <parameter id="134" />
     <parameter id="135" />
     <parameter id="136" />
     <parameter id="137" />
    </function>
    <function id="35" name="BlinnPhongSpecChars" retID="130">
     <parameter id="124" />
     <parameter id="125" />
     <parameter id="126" />
     <parameter id="127" />
     <parameter id="128" />
     <parameter id="129" />
    </function>
    <function id="36" name="BlinnPhongSpec" retID="121">
     <parameter id="117" />
     <parameter id="118" />
     <parameter id="119" />
     <parameter id="120" />
    </function>
    <function id="37" name="BlinnPhongSpecRoad" retID="111">
     <parameter id="108" />
     <parameter id="109" />
     <parameter id="110" />
    </function>
    <function id="38" name="Blinn" retID="96">
     <parameter id="90" />
     <parameter id="91" />
     <parameter id="92" />
     <parameter id="93" />
     <parameter id="94" />
     <parameter id="95" />
    </function>
    <function id="39" name="CalcFog" retID="85">
     <parameter id="81" />
     <parameter id="82" />
     <parameter id="83" />
     <parameter id="84" />
    </function>
    <function id="40" name="CalcFogNoDistScale" retID="72">
     <parameter id="68" />
     <parameter id="69" />
     <parameter id="70" />
     <parameter id="71" />
    </function>
    <function id="41" name="CalcPostProcessFog" retID="53">
     <parameter id="51" />
     <parameter id="52" />
    </function>
    <function id="42" name="CalcFogColour" retID="50">
     <parameter id="48" />
     <parameter id="49" />
    </function>
    <function id="43" name="CalcVertexFog" retID="41">
     <parameter id="40" />
    </function>
    <function id="44" name="DecodeRGBE8" retID="24">
     <parameter id="23" />
    </function>
    <function id="45" name="EncodeRGBE8" retID="19">
     <parameter id="18" />
    </function>
    <function id="46" name="DeCompressColourSpace" retID="17">
     <parameter id="16" />
    </function>
    <function id="47" name="CompressColourSpace" retID="15">
     <parameter id="14" />
    </function>
    <function id="48" name="ScaleHeadLightIntensity" retID="12">
     <parameter id="11" />
    </function>
    <function id="49" name="CalcVertexColour" retID="9">
     <parameter id="8" />
    </function>
    <function id="50" name="screen_position" retID="7">
     <parameter id="6" />
    </function>
    <function id="51" name="world_position" retID="4">
     <parameter id="3" />
    </function>
   </funcInfo>
   <funcEntryExitInfo>
   </funcEntryExitInfo>
   <VfetchInfo>
    <vfetch Address="6" Register="9" DestSwizzle="xyzw" Semantic="0x00" End="false" />
    <vfetch Address="7" Register="4" DestSwizzle="xyzw" Semantic="0x30" End="false" />
    <vfetch Address="8" Register="7" DestSwizzle="xy__" Semantic="0x50" End="false" />
    <vfetch Address="9" Register="7" DestSwizzle="__xy" Semantic="0x51" End="false" />
    <vfetch Address="10" Register="1" DestSwizzle="xy__" Semantic="0x52" End="false" />
    <vfetch Address="11" Register="3" DestSwizzle="xyzw" Semantic="0x53" End="false" />
    <vfetch Address="12" Register="6" DestSwizzle="xyzw" Semantic="0x60" End="true" />
   </VfetchInfo>
   <InterpolatorInfo>
    <Interpolator Register="0" Semantic="0x50" Mask="xyzw" />
    <Interpolator Register="1" Semantic="0x51" Mask="xyzw" />
    <Interpolator Register="2" Semantic="0x52" Mask="xyzw" />
    <Interpolator Register="3" Semantic="0x53" Mask="xyzw" />
    <Interpolator Register="4" Semantic="0x54" Mask="xyzw" />
    <Interpolator Register="5" Semantic="0x55" Mask="xyzw" />
   </InterpolatorInfo>
   <LiteralFloats>
    <Float Register="252" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="253" value0="0" value1="0" value2="0" value3="0" />
    <Float Register="254" value0="1" value1="0.5" value2="30" value3="0" />
    <Float Register="255" value0="0.02" value1="0.52499998" value2="0.0039215689" value3="100" />
   </LiteralFloats>
   <LiteralInts>
   </LiteralInts>
   <LiteralBools>
   </LiteralBools>
  </shader>
 </shaders>
</shader-pdb>
